/*! For license information please see b-5b9816baf96b831520408615ddeac76a.8c75b2cae31eff349dfa.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[4737],{62691:function(e,t,n){"use strict";n.d(t,{mobPlatforms:function(){return a},isTouch:function(){return s}});var r=window._ua;r||(r=navigator.userAgent.toLowerCase());var o={version:(r.match(/.+(?:me|ox|on|rv|it|era|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],amigo:/amigo.*mrchrome soc/i.test(r),opera:/opera/i.test(r),msie:/msie/i.test(r)&&!/opera/i.test(r),msie6:/msie 6/i.test(r)&&!/opera/i.test(r),msie7:/msie 7/i.test(r)&&!/opera/i.test(r),msie8:/msie 8/i.test(r)&&!/opera/i.test(r),msie9:/msie 9/i.test(r)&&!/opera/i.test(r),mozilla:/firefox/i.test(r),chrome:/chrome/i.test(r)||/crios/i.test(r),safari:!/crios/i.test(r)&&!/chrome/i.test(r)&&/webkit|safari|khtml/i.test(r),iphone:/iphone/i.test(r),ipod:/ipod/i.test(r),iphone4:/iphone.*OS 4/i.test(r),ipod4:/ipod.*OS 4/i.test(r),ipad:/ipad/i.test(r),ios:+(r.match(/.+(?:ipod|ipad|iphone.*os) ([\d.]+)_/i)||[0,0])[1],android:/android/i.test(r),bada:/bada/i.test(r),opera_mini:/opera mini/i.test(r),uc_mini:/mobile safari.*ucbrowser/i.test(r),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile/i.test(r),msie_mobile:/iemobile/i.test(r),msie_edge:/edge/i.test(r)&&!/opera/i.test(r),safari_mobile:/iphone|ipod|ipad/i.test(r),opera_mobile:/opera mini|opera mobi/i.test(r),mac:/mac/i.test(r),mi:/miuibrowser/i.test(r),meizu:/MZBrowser/i.test(r)};if(o.android){var i=r.match(/android (\d[\.\d]*)/i);o.android_version=i?i[1]:void 0}o.desktop=(o.opera||o.msie||o.mozilla||o.chrome||o.safari)&&!o.mobile;var a={1:1,2:1,3:1,4:1,5:1},s="ontouchstart"in window,u=function(e){if("WebKitCSSMatrix"in e&&"m11"in new e.WebKitCSSMatrix)return!0;if("MSCSSMatrix"in e&&"m11"in new e.MSCSSMatrix)return!0;if("CSSMatrix"in e&&"m11"in new e.CSSMatrix)return!0;try{var t=ce("div"),n=getCssPropertyName(t,"transform");return!!n&&(t.style[n]="translate3d(1px,1px,1px)",t.style[n]&&"none"!=t.style[n])}catch(e){return!1}}(window);t.default=o,Object.assign(window,{browser:o,_ua:r,mobPlatforms:a,isTouch:s,has3d:u})},1730:function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=document),t.querySelector(e)}function o(e,t){return void 0===t&&(t=document),t.querySelectorAll(e)}n.d(t,{$:function(){return r},$$:function(){return o}}),window.$=r,window.$$=o,function(){HTMLElement.prototype.$=HTMLElement.prototype.querySelector,HTMLElement.prototype.$$=HTMLElement.prototype.querySelectorAll;try{SVGElement.prototype.$=SVGElement.prototype.querySelector,SVGElement.prototype.$$=SVGElement.prototype.querySelectorAll}catch(e){}}()},9046:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{onBodyScroll:function(){return onBodyScroll},onBodyResize:function(){return onBodyResize},re:function(){return re},flatArray:function(){return flatArray},isUndefined:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isUndefined},isFunction:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isFunction},isArray:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray},isObject:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isObject},isEmpty:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isEmpty},escapeRE:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.escapeRE},htsc:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.htsc},escapeAttr:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.escapeAttr},replaceEntities:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.replaceEntities},escapeStr:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.escapeStr},stripTags:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.stripTags},srand:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.srand},isHttpHref:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isHttpHref},intval:function(){return intval},qs2obj:function(){return qs2obj},obj2qs:function(){return obj2qs},parseJSON:function(){return parseJSON},lsCheck:function(){return lsCheck},lsSet:function(){return lsSet},lsGet:function(){return lsGet},ssGet:function(){return ssGet},len:function(){return len},each:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each},copy:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.copy},addEvent:function(){return addEvent},removeEvent:function(){return removeEvent},preventEvent:function(){return preventEvent},stopEvent:function(){return stopEvent},cancelEvent:function(){return cancelEvent},checkEvent:function(){return checkEvent},submitBtn:function(){return submitBtn},createIframe:function(){return createIframe},winToUtf:function(){return winToUtf},checkNav:function(){return checkNav},checkElementNav:function(){return checkElementNav},checkTouchHover:function(){return checkTouchHover},parseCyr:function(){return parseCyr},parseLat:function(){return parseLat},parseRusKeys:function(){return parseRusKeys},parseLatKeys:function(){return parseLatKeys},scrollTop:function(){return scrollTop},se:function(){return se},onBodyScrollForce:function(){return onBodyScrollForce},sgFix:function(){return sgFix},initAutoScroll:function(){return initAutoScroll},autoScroll:function(){return autoScroll},scrollToEl:function(){return scrollToEl},scrollToHash:function(){return scrollToHash},lockButton:function(){return lockButton},unlockButton:function(){return unlockButton},extend:function(){return extend},ge:function(){return ge},geByClass:function(){return geByClass},geByClass1:function(){return geByClass1},gpeByClass:function(){return gpeByClass},geByTag:function(){return geByTag},geByTag1:function(){return geByTag1},gpeByTag:function(){return gpeByTag},geBySel1:function(){return geBySel1},domNS:function(){return domNS},domPS:function(){return domPS},append:function(){return append},before:function(){return before},after:function(){return after},replace:function(){return replace},remove:function(){return remove},clone:function(){return clone},reflow:function(){return reflow},outer:function(){return outer},show:function(){return show},hide:function(){return hide},isVisible:function(){return isVisible},toggle:function(){return toggle},ce:function(){return ce},elfocus:function(){return elfocus},elblur:function(){return elblur},val:function(){return val},attr:function(){return attr},getStyle:function(){return getStyle},setStyle:function(){return setStyle},hasClass:function(){return hasClass},addClass:function(){return addClass},removeClass:function(){return removeClass},toggleClass:function(){return toggleClass},replaceClass:function(){return replaceClass},getXY:function(){return getXY},getX:function(){return getX},getY:function(){return getY},getW:function(){return getW},getH:function(){return getH},getSize:function(){return getSize},getCw:function(){return getCw},getCh:function(){return getCh},evalJs:function(){return evalJs},getHref:function(){return getHref},indexOf:function(){return indexOf},langSex:function(){return langSex},langNumeric:function(){return langNumeric},setNotify:function(){return setNotify},uploadFile:function(){return uploadFile},trim:function(){return trim},domPN:function(){return domPN},domCA:function(){return domCA},getLang:function(){return getLang},domData:function(){return domData},throttle:function(){return throttle},debounce:function(){return debounce},scrollGetY:function(){return scrollGetY},domFC:function(){return domFC},domLC:function(){return domLC},domInsertAfter:function(){return domInsertAfter},domInsertBefore:function(){return domInsertBefore},need:function(){return need},isString:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isString},ceFromString:function(){return _mobile_lib_utils_DOM__WEBPACK_IMPORTED_MODULE_3__.ceFromString},isIosWebView:function(){return isIosWebView},isSFSafariViewController:function(){return isSFSafariViewController},isAndroidWebView:function(){return isAndroidWebView},isVkWebView:function(){return isVkWebView},statlogsValueEvent:function(){return _shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent},ajaxRequest:function(){return ajaxRequest},last:function(){return last},toInt:function(){return toInt},openApp:function(){return openApp},getPreloadData:function(){return getPreloadData},matchesSelector:function(){return matchesSelector},initStickySimulator:function(){return initStickySimulator},ajaxLayoutEnabled:function(){return ajaxLayoutEnabled}});var _shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(51988),_mobile_browser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62691),_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(17999),_mobile_lib_Dollars__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1730),_mobile_lib_utils_Array__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(85969),_mobile_lib_utils_DOM__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7934),_mobile_lib_utils_debug__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(33145),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11386),_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86900),select__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(37845),select__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(select__WEBPACK_IMPORTED_MODULE_6__),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(86353),_mobile_lib_PostsObserver__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(67989),_shared_lib_detections__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(20848),_mobile_lib_befall__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3226),registeredEvents,onBodyScroll,onBodyResize;registeredEvents=window.registeredEvents?window.registeredEvents:[],onBodyScroll=window.onBodyScroll?window.onBodyScroll:se(scrollTop),onBodyResize=window.onBodyResize?window.onBodyResize:se();var re=remove,lsCheck=_shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__.default.checkVersion,lsRemove=_shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__.default.remove,lsSet=_shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__.default.set,lsGet=_shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__.default.get,_logTimer;function need(e){var t=safeGet(window,e);if(void 0===t)throw"Unable to get `window."+e+"`";return t}function bind(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=e.shift();return function(){var r=Array.prototype.slice.call(arguments);return t.apply(n,e.concat(r))}}function intval(e){return!0===e?1:parseInt(e)||0}function floatval(e){return!0===e?1:parseFloat(e)||0}function qs2obj(e){if(!e)return{};for(var t={},n=e.toString().split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");if(i[0])try{var a=decodeURIComponent(i[0]);try{var s=decodeURIComponent(i[1]||"");t[a]=s}catch(e){t[a]=i[1]||""}}catch(e){t[i[0]]=i[1]||""}}return t}function obj2qs(e){if(!e)return"";var t=[];for(var n in e)t.push(encodeURIComponent(n)+(e[n]?"="+encodeURIComponent(e[n].toString()||""):""));return t.length?"?"+t.join("&"):""}function parseJSON(obj){try{return JSON.parse(obj)}catch(e){return eval("("+obj+")")}}function ssCheck(){return void 0!==window.sessionStorage&&void 0!==window.JSON}function ssSet(e,t){if(void 0!==t)try{return sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}else try{return sessionStorage.removeItem(e)}catch(e){}return!1}function ssGet(e){try{return JSON.parse(sessionStorage.getItem(e))}catch(e){}return!1}function getValues(e){if(!(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(e))return e.call?e():e;for(var t=[],n=0,r=e.length;n<r;n++)t.push(getValues(e[n]));return t}function len(e){if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(e))return e.length;if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isObject)(e)){var t=0;for(var n in e)t++;return t}return 0}function realSubstr(e,t){return(e=e||"").length>t&&(e=(e=(e=(e=e.substr(0,t-3)).replace(/&[^;]{0,6}$/,"")).replace(/<[^>]*$/,"")).replace(/(\s|<br\s*\/?>)+$/,""),e+=".."),e}function hashCode(e){var t=0;if(0===e.length)return t;for(var n=0,r=e.length;n<r;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}function formatNum(e){if(!window.langConfig)return e;for(var t=e.toString().split("."),n=[],r=t[0].length-3;r>-3;r-=3)n.unshift(t[0].slice(r>0?r:0,r+3));return t[0]=n.join(window.langConfig.numDel),e=t.join(window.langConfig.numDec)}window._UtilsInited||(Object.assign(window,{onBodyScroll:onBodyScroll,onBodyResize:onBodyResize,re:re,flatten:flatten,flatArray:flatArray,formatTime:formatTime,isUndefined:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isUndefined,isFunction:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isFunction,isFormData:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isFormData,isArray:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray,isObject:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isObject,isEmpty:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isEmpty,escapeRE:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.escapeRE,htsc:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.htsc,escapeAttr:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.escapeAttr,unescapeAttr:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.unescapeAttr,replaceEntities:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.replaceEntities,escapeStr:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.escapeStr,stripTags:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.stripTags,rand:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.rand,srand:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.srand,utf2win:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.utf2win,isHttpHref:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isHttpHref,vkNow:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.vkNow,bind:bind,intval:intval,floatval:floatval,qs2obj:qs2obj,obj2qs:obj2qs,parseJSON:parseJSON,lsCheck:lsCheck,lsSet:lsSet,lsGet:lsGet,ssCheck:ssCheck,lsRemove:lsRemove,ssSet:ssSet,ssGet:ssGet,getValues:getValues,len:len,realSubstr:realSubstr,hashCode:hashCode,formatNum:formatNum,each:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each,copy:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.copy,addEvent:addEvent,removeEvent:removeEvent,preventEvent:preventEvent,stopEvent:stopEvent,cancelEvent:cancelEvent,checkEvent:checkEvent,onCtrlEnter:onCtrlEnter,submitBtn:submitBtn,createIframe:createIframe,winToUtf:winToUtf,shortCurrency:shortCurrency,checkNav:checkNav,checkElementNav:checkElementNav,checkTouchHover:checkTouchHover,parseCyr:parseCyr,parseLat:parseLat,parseRusKeys:parseRusKeys,parseLatKeys:parseLatKeys,scrollLeft:scrollLeft,scrollTop:scrollTop,se:se,onBodyScrollForce:onBodyScrollForce,sgFix:sgFix,checkPostsSeen:checkPostsSeen,initPostsStats:initPostsStats,initAutoScroll:initAutoScroll,autoScroll:autoScroll,scrollToEl:scrollToEl,scrollToHash:scrollToHash,lockButton:lockButton,unlockButton:unlockButton,extend:extend,ge:ge,geByClass:geByClass,geByClass1:geByClass1,gpeByClass:gpeByClass,geByTag:geByTag,geByTag1:geByTag1,gpeByTag:gpeByTag,geBySel:geBySel,geBySel1:geBySel1,domNS:domNS,domPS:domPS,append:append,before:before,after:after,replace:replace,remove:remove,clone:clone,reflow:reflow,tag:tag,outer:outer,show:show,hide:hide,isVisible:isVisible,toggle:toggle,ce:ce,elfocus:elfocus,elblur:elblur,val:val,attr:attr,cssToJs:cssToJs,getCssPropertyName:getCssPropertyName,cssValue:cssValue,getStyle:getStyle,setStyle:setStyle,hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,replaceClass:replaceClass,switchClass:switchClass,getXY:getXY,getX:getX,getY:getY,getW:getW,getH:getH,getSize:getSize,getCw:getCw,getCh:getCh,evalJs:evalJs,getHref:getHref,indexOf:indexOf,langSex:langSex,langNumeric:langNumeric,langWordNumeric:langWordNumeric,langDate:langDate,setNotify:setNotify,getNotify:getNotify,canUploadFile:canUploadFile,uploadFile:uploadFile,readFile:readFile,registeredEvents:registeredEvents,trim:trim,domClosestOverflowHidden:domClosestOverflowHidden,copyToClipboard:copyToClipboard,blinkItem:blinkItem,domPN:domPN,domCA:domCA,getLang:getLang,domData:domData,throttle:throttle,debounce:debounce,scrollGetX:scrollGetX,scrollGetY:scrollGetY,domChildIndex:domChildIndex,domChildren:domChildren,safeGet:safeGet,disableFlex:disableFlex,domQuery:domQuery,domQuery1:domQuery1,domFC:domFC,domLC:domLC,domInsertAfter:domInsertAfter,domInsertBefore:domInsertBefore,alwaysArray:alwaysArray,need:need,isString:_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isString,ceFromString:_mobile_lib_utils_DOM__WEBPACK_IMPORTED_MODULE_3__.ceFromString,isIosWebView:isIosWebView,isSFSafariViewController:isSFSafariViewController,isAndroidWebView:isAndroidWebView,isVkWebView:isVkWebView,statlogsValueEvent:_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent,ajaxRequest:ajaxRequest,arrayRemove:_mobile_lib_utils_Array__WEBPACK_IMPORTED_MODULE_11__.arrayRemove,arrayIntersects:_mobile_lib_utils_Array__WEBPACK_IMPORTED_MODULE_11__.arrayIntersects,asc:asc,desc:desc,unique:unique,first:first,last:last,toInt:toInt,toArray:toArray,groupBy:groupBy,domInsert:domInsert,openApp:openApp,rs:rs,domCreate:domCreate,getPreloadData:getPreloadData,getImageOrientation:getImageOrientation,matchesSelector:matchesSelector,getRect:getRect}),window._UtilsInited=!0),_logTimer=(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.vkNow)(),window.clog=function(e){var t=window,n=t.vk;if(n&&n.__debug)try{if(window.console&&console.log){var r=Array.prototype.slice.call(arguments);r.unshift("["+((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.vkNow)()-_logTimer)/1e3+"] ");var o=window,i=o.browser;i.msie||i.mobile&&!i.safari_mobile?console.log(r.join(" ")):console.log.apply(console,r)}}catch(e){}};var rf=function(){return!1},eventPassiveSupported=!1;try{var options=Object.defineProperty({},"passive",{get:function(){eventPassiveSupported=!0}});window.addEventListener("test",null,options),window.removeEventListener("test",null,options)}catch(e){}function addEvent(e,t,n,r){var o=!!r&&!0===r.capture,i=!!r&&!0===r.passive;if(e=ge(e),n=n||rf,e&&3!=e.nodeType&&8!=e.nodeType){e.setInterval&&e!=window&&(e=window);for(var a=0,s=(t=t.split(" ")).length;a<s;a++){var u=t[a];e.addEventListener?e.addEventListener(u,n,eventPassiveSupported?{passive:i,capture:o}:o):e.attachEvent&&e.attachEvent("on"+u,n),registeredEvents.push([e,u,n])}}}function removeEvent(e,t,n,r){var o=!!r&&!0===r.capture,i=!!r&&!0===r.passive;if(e=ge(e),n=n||rf,e&&3!=e.nodeType&&8!=e.nodeType)for(var a=0,s=(t=t.split(" ")).length;a<s;a++){var u=t[a];e.removeEventListener?e.removeEventListener(u,n,eventPassiveSupported?{passive:i,capture:o}:o):e.detachEvent&&e.detachEvent("on"+u,n)}}function preventEvent(e){return!!(e=e||window.event)&&(!(!(e=e.originalEvent||e)||!e.cancelable)&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1,!1))}function stopEvent(e){return!!(e=e||window.event)&&((e=e.originalEvent||e).stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1)}function cancelEvent(e){return!(!(e=e||window.event)||!e.cancelable)&&((e=e.originalEvent||e).preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1)}function checkEvent(e){var t=window.PointerEvent;return(e=e||window.event)&&(!t||!(e instanceof t))&&("click"==e.type||"mousedown"==e.type||"mouseup"==e.type)&&(e.which>1||e.button>1||e.ctrlKey||e.shiftKey||e.metaKey)}function onCtrlEnter(e,t,n){var r=window.browser;if(10==(t=t||window.event).keyCode||13==t.keyCode&&(t.ctrlKey||t.metaKey&&r.mac)){if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isUndefined)(n)){var o=submitBtn(e);o&&o.click()}else n.call(e);cancelEvent(t)}}function submitBtn(e){if(!e)return!1;var t="form"===tag(e)?e:e.form||gpeByTag("form",e);if(!t)return!1;for(var n in t){var r=t[n],o=tag(r);if("button"===o&&"submit"===r.type||"input"===o&&"submit"===r.type&&/(^|\\s)(small_)?button(\\s|$)/i.test(r.className)&&!r.name)return r}return!1}function createIframe(e,t){var n=ce("iframe",e=extend(e||{},{border:"0"}),t=extend(t||{},{position:"absolute",width:1,height:1,left:10}));return append(n,"vk_utils"),n}function winToUtf(e){return void 0===e&&(e=""),String(e).replace(/&#(\d\d+);/g,(function(e,t){return(t=intval(t))>=32?String.fromCharCode(t):e})).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function shortCurrency(){var e={};(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each)(geByClass("_short_currency"),(function(){var t=this.getAttribute("data-short")||"",n=winToUtf(t).length,r=getStyle(this,"fontFamily")||"tahoma,arial,sans-serif";if(!t)return!0;if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isUndefined)(e[r])){for(var o="",i=n-1;i>=0;i--)o+="&#8399;";var a=ce("div",{innerHTML:"<b>"+t+"</b><b>"+o+"</b>"},{fontFamily:r,fontSize:"24px"}),s=ge("vk_utils");s&&s.appendChild(a),e[r]=Math.abs(a.firstChild.offsetWidth-a.lastChild.offsetWidth)>=2*n,remove(a)}e[r]&&val(this,t)}))}function isHavePreactedListener(e,t){return e&&e.getAttribute("preacted-on"+t)}function checkNav(e,t){if(!(e=ge(e)))return!1;do{if(checkElementNav(e,t))return e}while(e=e.parentNode);return!1}function checkElementNav(e,t){if(!ajaxLayoutEnabled())return!1;if(!e)return!1;if(t=t||{},"a"==tag(e)){if((t.skip_onclick||e.getAttribute("data-skiponclick")||!e.getAttribute("onclick"))&&(e.getAttribute("href")||e.getAttribute("data-href"))||hasClass("al_nav",e)){if(e.hostname)var n=e.hostname;else{var r=e.href||attr(e,"data-href");n=(/^(https?:)\/\/([^:\/]+)?(?::(\d+))?\/?(.*)$/i.exec(r)||[])[2]}if("_blank"===e.target&&t.skip_blank||t.skip_clicable)return!0;if("_blank"!==e.target&&(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isHttpHref)(r)){if(!n||n==location.hostname)return!0;if(t.allow_post_away&&n&&e.getAttribute("data-post-id")&&e.getAttribute("data-post-click-type"))return e.setAttribute("data-change-location-with-post-away",1),!0}}}else if("input"==tag(e)||"button"===tag(e)&&e.form&&!e.form.getAttribute("onsubmit")&&!isHavePreactedListener(e.form,"submit")){if(e.form&&("submit"==e.type||"image"==e.type)&&(t.skip_onclick||e.getAttribute("data-skiponclick")||!e.getAttribute("onclick"))||hasClass("al_nav",e))return!0}else if("label"==tag(e)&&t.skip_clicable&&(e.htmlFor||geByTag1("input",e)&&(t.skip_onclick||e.getAttribute("data-skiponclick")||!e.getAttribute("onclick"))||hasClass("al_nav",e)))return!0;return!1}function checkTouchHover(e){if(!(e=ge(e)))return!1;do{if(e.classList&&(e.classList.contains("ContextMenu__listLink")||e.classList.contains("cm_item")||e.classList.contains("wia_item")||e.classList.contains("mva_item"))&&e.closest(".ContextMenu"))return e.parentNode;if(e.classList&&e.classList.contains("Row_style_withHover"))return e;if("a"==tag(e)||hasClass("al_photo",e))return e;if(hasClass(Btn.className,e))return e;if("label"==tag(e)&&hasClass("option_row",e))return e;if(hasClass("_touched",e))return e;if(e.getAttribute&&"button"===e.getAttribute("role"))return e}while(e=e.parentNode);return!1}function trim(e){return(e||"").trim()}function parseCyr(e,t){for(var n=e,r=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],o=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],i=0,a=r.length;i<a;i++)n=t?n.split(r[i]).join(o[i]):n.split(o[i]).join(r[i]);var s="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",u="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ";for(i=0,a=s.length;i<a;i++)n=t?n.split(s.charAt(i)).join(u.charAt(i)):n.split(u.charAt(i)).join(s.charAt(i));return n==e?null:n}function parseLat(e){return parseCyr(e,!0)}function parseRusKeys(e,t,n){if(!t)return null;for(var r=e,o="qwertyuiop[]asdfghjkl;'zxcvbnm,./`QWERTYUIOP{}ASDFGHJKL:\"ZXCVBNM<>?~",i="йцукенгшщзхъфывапролджэячсмитьбю.ёЙЦУКЕНГШЩЗХЪФЫВАПРОЛДЖЭЯЧСМИТЬБЮ,Ё",a=0,s=o.length;a<s;a++)r=n?r.split(o.charAt(a)).join(i.charAt(a)):r.split(i.charAt(a)).join(o.charAt(a));return r==e?null:r}function parseLatKeys(e,t){return parseRusKeys(e,t,!0)}function scrollLeft(){var e=window,t=e.htmlNode,n=e.bodyNode,r=e.scrollBodyNode;return t&&t.scrollLeft||r&&r.scrollLeft||n&&n.scrollLeft||window.scrollX||0}function scrollTop(e,t){var n=window,r=n.htmlNode,o=n.bodyNode,i=n.scrollBodyNode,a=ge("mcont"),s=hasClass("vk_custom_scroll",o)&&a;if(void 0===e)return s?a&&a.scrollTop||0:r&&r.scrollTop||i&&i.scrollTop||o&&o.scrollTop||window.scrollY||0;t?s?setTimeout((function(){a.scrollTop=Math.max(0,e)}),t):setTimeout((function(){window.scrollTo(0,Math.max(0,e))}),t):s?a.scrollTop=Math.max(0,e):window.scrollTo(0,Math.max(0,e))}function se(){var e=[],t=Array.prototype.slice.call(arguments);return function(n,r){if(n)if(n.apply)e.push(n);else if("__clear"===n)if(r){for(var o=0,i=e.length;o<i;o++)if(e[o]===r){e.splice(o,1);break}}else e=[];else{var a=Array.prototype.slice.call(arguments);a.shift();var s=0;for(i=e.length;s<i;s++)e[s].apply(window,getValues(t).concat(a))}}}function onBodyScrollForce(e){var t=window,n=t.onBodyScroll,r=t.onDOMReady;e?setTimeout((function(){n(!0)}),e):r((function(){n(!0)}))}function sgFix(){var e=window,t=e._ua,n=e.ajax,r=e.page,o=e.clog;/galaxy|gt\-/i.test(t)&&(window.vkSGi=0,window.vkAjax=n,window.vkPage=r,function e(){if(!(++window.vkSGi>25))return n!==window.vkAjax||r!==window.vkPage?(n=window.vkAjax,r=window.vkPage,o("SG fixed"),void delete window.vkSGi):void setTimeout(e,200);delete window.vkSGi}())}function checkPostsSeen(){var e=window,t=e.cur,n=e.pStats;if(t&&t.alPostsStatsObjects){var r=getValues(t.alPostsStatsObjects);if(r){var o=scrollTop(),i=o+getCh(),a=[];r.forEach((function(e,t){var r=e.classList.contains("wall_item")||e.classList.contains("post_item")?e:(0,_mobile_lib_Dollars__WEBPACK_IMPORTED_MODULE_2__.$)(".wall_item, .post_item",e);if(attr(r,"data-ignore"))return!0;var s=attr(r,"data-clicked");if(!e.observer_bits||s){var u=getY(e),c=u+e.offsetHeight,l=e.bits||0;if(l>=3)return!0;if(c<o||u>i)return!0;if(l|=u>=o&&u<i||s?1:0,(l|=c>=o&&c<i||s?2:0)&&(e.bits=l,3==l)){window.pStats.__debug&&(0,_mobile_lib_utils_debug__WEBPACK_IMPORTED_MODULE_12__.blinkItemColor)(r);var _=n.postsGetRaws(r,e);a.push(_),n.viewed(r)}}})),n.seen(a)}}}var ignoreIntersectionObserver=!1,isReady,readyList,ready,doc,frag,elem,range;function initPostsStats(e){var t=window,n=t.cur,r=t.onBodyScroll,o=t.onDOMReady;if(n&&e){if(n.alPostsStatsObjects=e,(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_7__.partConfigEnabled)("mvk_intersection_observer")&&!ignoreIntersectionObserver&&(0,_shared_lib_detections__WEBPACK_IMPORTED_MODULE_13__.isIntersectionObserverSupported)()){var i=function(){a.onNewPosts(n.alPostsStatsObjects())},a=new _mobile_lib_PostsObserver__WEBPACK_IMPORTED_MODULE_8__.PostsObserver(n.alPostsStatsObjects());window.ajax.onPostsLoad(i),o((function(){i()})),n.destroy.push((function(){ajax.onPostsLoad.off(i),a.disconnect()}))}else ignoreIntersectionObserver=!0,r((function(){checkPostsSeen()})),o((function(){checkPostsSeen()}));(0,_mobile_lib_befall__WEBPACK_IMPORTED_MODULE_9__.onEmitOnce)(window.nav.onBeforeGo,(function(){window.pStats.send(),window.pStats.resetSendTimer()}))}}function initAutoScroll(e,t,n){var r=window.onBodyScroll;if(e&&t){var o=(n=n||{}).delta||!1;("function"==typeof n.onScroll?n.onScroll:r)(throttle((function(n){var r=e();if(r){var i=getY(r),a=getCh();i>0&&i-n-a<(o||2*a)&&t.call(r)}}),33))}}function autoScroll(e,t,n){var r=window.ajax;n=n||{};var o=getValues(e),i=ge("show_more_loading"),a=n.no_cache||!1,s=function(){r.click(this,t,{use_cache:!a,closeContextMenu:!1})};!o&&i&&s.call(i),initAutoScroll(e,s,n)}function scrollToEl(e,t,n){t=t||0,scrollTop(((e=ge(e)||window)===window?1:getY(e))-t,n)}function scrollToHash(e){var t=window.nav;if("#"===(e=e||t.hash||location.hash)[0]&&(e=e.substr(1)),e){var n=geBySel("a[name]");!1===n&&(n=geByTag("a")),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each)(n,(function(t,n){if(n.name==e)return scrollToEl(n),!1}))}}function lockButton(e){var t=ge(e);if(/(^|\s)(small_)?button(\s|$)/i.test(t.className)){var n=ce("button",{id:t.id,className:t.className,innerHTML:'<span class="button_locked"><b class="button_locked_label">'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.htsc)(val(t))+"</b></span>",onclick:function(e){return cancelEvent(e)},real_btn:t});t.fake_btn=n,before(n,t),remove(t)}}function unlockButton(e){var t=ge(e);t.real_btn?(before(t.real_btn,t),remove(t),t.real_btn.fake_btn=null,t.real_btn=null):t.fake_btn&&(before(t,t.fake_btn),remove(t.fake_btn),t.fake_btn.real_btn=null,t.fake_btn=null)}function extend(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(!e.length)return t;for(var n=0,r=e.length;n<r;n++)for(var o in e[n])"layerX"!=o&&"layerY"!=o&&(t[o]=e[n][o]);return t}function ge(e){return"string"==typeof e?document.getElementById(e):e}function geByClass(e,t,n){if(n=n||"*",(t=ge(t)||document).getElementsByClassName){var r=t.getElementsByClassName(e);if("*"==n)return Array.prototype.slice.call(r);var o=[];n=n.toUpperCase();for(var i=0,a=r.length;i<a;i++)r[i].tagName.toUpperCase()==n&&o.push(r[i]);return o}r=geByTag(n,t),o=[];var s=new RegExp("(^|\\s)"+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.escapeRE)(e)+"(\\s|$)");for(i=0,a=r.length;i<a;i++)s.test(r[i].className)&&o.push(r[i]);return o}function geByClass1(e,t,n){return geByClass(e,t,n)[0]}function gpeByClass(e,t){if(!(t=ge(t)))return null;for(;t=t.parentNode;)if(hasClass(e,t))return t;return null}function geByTag(e,t){return(ge(t)||document).getElementsByTagName(e)}function geByTag1(e,t){return geByTag(e,t)[0]}function gpeByTag(e,t){if(!(t=ge(t)))return null;for(e=e.toUpperCase();t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()==e)return t;return null}function geBySel(e,t){return!!(t=ge(t)||document).querySelectorAll&&t.querySelectorAll(e)}function geBySel1(e,t){return!!(t=ge(t)||document).querySelector&&t.querySelector(e)}function append(e,t){return e=ge(e),t=ge(t),e&&t&&t.appendChild(e)||!1}function before(e,t){return(t=ge(t))&&t.parentNode&&t.parentNode.insertBefore(ge(e),t)||!1}function after(e,t){return(t=ge(t))&&t.parentNode&&t.parentNode.insertBefore(ge(e),t.nextSibling)||!1}function replace(e,t){before(e,t)&&remove(t)}function remove(e){return!(!(e=ge(e))||!e.parentNode)&&e.parentNode.removeChild(e)}function clone(e){return!!(e=ge(e))&&e.cloneNode(!0)}function reflow(e){e=ge(e);try{e.offsetWidth,e.offsetHeight}catch(e){}}function tag(e){return((e=ge(e))&&e.tagName||"").toLowerCase()}function outer(e){return(e=ge(e))?val(ce("div").appendChild(clone(e)).parentNode):""}function show(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)show(arguments[n]);else{var r=ge(e);r&&(r.style.display=r.oldstyle||(hasClass("_ib",r)?"inline-block":hasClass("_i",r)||"span"==tag(r)?"inline":"block"))}}function hide(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)hide(arguments[n]);else{var r=ge(e);r&&("none"!=r.style.display&&(r.oldstyle=r.style.display),r.style.display="none")}}function isVisible(e){var t=ge(e);return!(!t||!t.style)&&"none"!=t.style.display}function toggle(e,t){void 0===t&&(t=!isVisible(e)),t&&isVisible(e)||(t||isVisible(e))&&(t?show:hide)(e)}function ce(e,t,n){var r=document.createElement(e);return t&&extend(r,t),n&&setStyle(r,n),r}function elfocus(e,t,n){e=ge(e);try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==n&&!1!==n||(n=t),e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",n),r.select()}else e.setSelectionRange&&e.setSelectionRange(t,n)}catch(e){}}function elblur(e){(e=ge(e))&&e.blur&&e.blur()}function val(e,t){if(!(e=ge(e)))return"";var n=e.tagName.toLowerCase(),r="input"==n||"textarea"==n||"select"==n,o=r&&("radio"==e.type||"checkbox"==e.type);if(void 0===t)return r?o?e.checked:e.value:e.innerHTML;if(r)o?e.checked=t:e.value=t;else{e.innerHTML=t;var i=window.ajax;"a"!=n&&(i.prepare_click(e),i.onPrepared(!0,e))}}function attr(e,t,n){if(e=ge(e))return void 0===n?"data-"==t.substr(0,5)&&e.dataset?e.dataset[t.substr(5).replace(/-([a-z0-9])/g,(function(e,t){return t.toUpperCase()}))]||!1:e.getAttribute&&e.getAttribute(t)||!1:!1===n?e.removeAttribute&&e.removeAttribute(t)||!1:void(e.setAttribute&&e.setAttribute(t,n))}function cssToJs(e,t){return t?t+(e||"").replace(/(?:^|-)([a-z])/g,(function(e,t){return(t||"").toUpperCase()})):(e||"").replace(/-([a-z])/g,(function(e,t){return(t||"").toUpperCase()}))}function getCssPropertyName(e,t,n){e=ge(e)||ce("div");for(var r=["webkit","Moz","ms","O",""],o=["-webkit-","-moz-","-ms-","-o-",""],i=0,a=r.length;i<a;i++){var s=cssToJs(t,r[i]);if(void 0!==e.style[s])return n?o[i]+t:s}return!1}function cssValue(e,t){if("number"==typeof e){var n=1e7;e=Math.round(e*n)/n+(t||"")}return e}function getStyle(e,t,n){if(!(e=ge(e)))return!1;if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(t)){var r={};return(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each)(t,(function(t,n){r[n]=getStyle(e,n)})),r}if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isUndefined)(n)&&(n=!0),/transform(-origin)?|transition(-duration)?/i.test(t)&&!(t=getCssPropertyName(e,t)))return!1;var o=window.browser;if(!n&&"opacity"==t&&o.msie)return(u=e.style.filter)?u.indexOf("opacity=")>=0?parseFloat(u.match(/opacity=([^)]*)/)[1])/100+"":"1":"";if(!n&&e.style&&(e.style[t]||"height"==t))return e.style[t];var i,a=document.defaultView||window;if(a.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var s=a.getComputedStyle(e,null);s&&(i=s.getPropertyValue(t))}else if(e.currentStyle){var u;if("opacity"==t&&o.msie)return(u=e.currentStyle.filter)&&u.indexOf("opacity=")>=0?parseFloat(u.match(/opacity=([^)]*)/)[1])/100+"":"1";var c=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}));"auto"==(i=e.currentStyle[t]||e.currentStyle[c])&&(i=0),i=(i+"").split(" "),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each)(i,(function(t,n){if(!/^\d+(px)?$/i.test(n)&&/^\d/.test(n)){var r=e.style,o=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left=n||0,i[t]=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=a}})),i=i.join(" ")}if(n&&("width"==t||"height"==t)){var l="width"==t?getW(e):getH(e);i=(intval(i)?Math.max(floatval(i),l):l)+"px"}return i}function setStyle(e,t,n){if((e=ge(e))&&e.style){if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isObject)(t))return(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each)(t,(function(t,n){setStyle(e,t,n)}));var r="number"==typeof n;r&&/height|width/i.test(t)&&(n=Math.abs(n)),/transform(-origin)?|transition(-duration)?/i.test(t)&&!(t=getCssPropertyName(e,t))||(e.style[t]=r&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?n+"px":n)}}function hasClass(e,t,n){if("string"==typeof t&&"string"!=typeof e){var r=[t,e];e=r[0],t=r[1]}if(t=ge(t))return new RegExp("(^|\\s)"+(n?e:(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.escapeRE)(e))+"(\\s|$)").test(t.className)}function addClass(e,t){if("string"==typeof t&&"string"!=typeof e){var n=[t,e];e=n[0],t=n[1]}(t=ge(t))&&!hasClass(e,t)&&(t.className=(t.className?t.className+" ":"")+e)}function removeClass(e,t,n){if("string"==typeof t&&"string"!=typeof e){var r=[t,e];e=r[0],t=r[1]}(t=ge(t))&&hasClass(e,t,n)&&(t.className=(t.className||"").replace(new RegExp("(^|\\s)"+(n?e:(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.escapeRE)(e))+"(\\s|$)"),(function(e,t,n){return t&&n?" ":""})))}function toggleClass(e,t,n){(void 0===n?hasClass(e,t):!n)?removeClass(e,t):addClass(e,t)}function replaceClass(e,t,n,r){removeClass(e,n,r),addClass(t,n)}function switchClass(e,t,n){hasClass(e,n)?replaceClass(e,t,n):replaceClass(t,e,n)}function getXY(e,t){if(void 0===t&&(t=null),!(e=ge(e)))return[0,0];var n=[0,0];if(t&&(n=getXY(t)),"function"==typeof e.getBoundingClientRect){var r=e.getBoundingClientRect();return[r.left+scrollLeft()-n[0],r.top+scrollTop()-n[1]]}var o=0,i=0;if(e.offsetParent)do{o+=e.offsetLeft,i+=e.offsetTop}while(e=e.offsetParent);return[o-n[0],i-n[1]]}function getX(e,t){return void 0===t&&(t=null),getXY(e,t)[0]}function getY(e,t){return void 0===t&&(t=null),getXY(e,t)[1]}function getW(e){return(e=ge(e))&&e.offsetWidth||0}function getH(e){return(e=ge(e))&&e.offsetHeight||0}function getSize(e){return[getW(e=ge(e)),getH(e)]}function getCw(){return Math.max(window.innerWidth||0,(window.htmlNode||{}).clientWidth||0)}function getCh(){return Math.max(window.innerHeight||0,(window.htmlNode||{}).clientHeight||0)}function evalJs(e){try{window.execScript?window.execScript(e):eval.call(window,e)}catch(t){(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_4__.logEvalError)(t,e)}}function domData(e,t,n){return e?void 0!==n?(null===n?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,n),n):e.getAttribute("data-"+t):null}function getHref(e){if(!e)return!1;var t=!1;return e.getAttribute&&(t=e.getAttribute("data-href")||e.getAttribute("href")),t||(e.pathname?t=e.pathname+e.search+e.hash:tag(e)||(t=e)),t||!1}function indexOf(e,t,n){for(var r=n||0,o=(e||[]).length;r<o;r++)if(e[r]==t)return r;return-1}function isToday(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function isYesterday(e){return isToday(new Date(e.getTime()+864e5))}function isTomorrow(e){return isToday(new Date(e.getTime()-864e5))}function isSameDate(e,t){var n=new Date(e),r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}function leadingZero(e){return e>=10?e:"0"+e}function langSex(e,t){if(!(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(t))return t;var n=t[1];return window.langConfig?((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each)(langConfig.sexRules,(function(r,o){return"*"==o[0]||e==o[0]&&t[o[1]]?(n=t[o[1]],!1):void 0})),n):n}function langNumeric(e,t,n){var r,o=window.langConfig;if(!t||!o)return e;if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(t)?(r=t[1],e!=Math.floor(e)?r=t[o.numRules.float]:(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each)(o.numRules.int,(function(n,o){if("*"==o[0])return r=t[o[2]],!1;var i=o[0]?e%o[0]:e;return-1!=indexOf(o[1],i)?(r=t[o[2]],!1):void 0}))):r=t,n){for(var i=e.toString().split("."),a=[],s=i[0].length-3;s>-3;s-=3)a.unshift(i[0].slice(s>0?s:0,s+3));i[0]=a.join(o.numDel),e=i.join(o.numDec)}return r=(r||"%s").replace("%s",e)}function langWordNumeric(e,t,n){return(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(t)&&e<t.length?t[e]:langNumeric(e,n)}function langDate(e,t,n,r,o,i){var a,s=window.langConfig;if(i||(i=""),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(t)||(t=["",t,t,t,t]),"number"==typeof e||"string"==typeof e?(e>2147483646e3&&(e=0),e+=n,a=new Date(e)):a=e,o)t=t[1];else{var u="";!(u=isToday(a)?t[3]:isYesterday(a)?t[2]:isTomorrow(a)?t[4]:t[1])&&t[1]&&(u=t[1]),t=u}var c="",l={hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear()};switch(3===s.id&&(c=a.getHours()>11?"pm":"am",l.hours=a.getHours()%12==0?12:a.getHours()%12),s.id){case 1:switch(a.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!isToday(a)||isYesterday(a)||isTomorrow(a)||(t=i+t);break;case 12:case 73:1==a.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===s.id&&(l.year=l.year+543),t.replace("{hour}",l.hours).replace("{num_hour}",leadingZero(l.hours)).replace("{minute}",leadingZero(l.minutes)).replace("{day}",l.day).replace("{num_day}",leadingZero(l.day)).replace("{month}",r[l.month]).replace("{year}",l.year).replace("{short_year}",l.year%100).replace("{second}",leadingZero(l.seconds)).replace("{am_pm}",c)}function setNotify(e){var t=intval(e),n=ge("header_msgs"),r=geByClass1("pcont","l");if(n&&(window.isNewMail?val(n,'<div class="hb_btn mhi_notify">'+(t>0?'<em class="mh_notify_counter">'+t+"</em>":"")+"</div>"):val(n,'<div class="hb_btn mhi_notify">'+(t>0?'<em class="mh_notify_counter">'+t+"</em>":"&nbsp;")+"</div>"),t>0?removeClass("mhb_no_notify",n):addClass("mhb_no_notify",n),r)){var o=geByClass1("mmi_mail",r),i=geByClass1("mmi_wrap",o),a=geByClass1("mm_counter",i);if(!o)return;t>0?a?val(a,t):append(ce("em",{className:"mm_counter",innerHTML:t}),i):remove(a)}}function getNotify(){var e=ge("header_msgs");return e?intval(val(geByTag1("em",e))):0}function canUploadFile(){return(window.XMLHttpRequest||window.XDomainRequest)&&(window.FormData||window.FileReader&&(window.XMLHttpRequest&&XMLHttpRequest.sendAsBinary||window.ArrayBuffer&&window.Uint8Array&&(window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder)))}function uploadFile(e,t,n){var r=window.XDomainRequest||window.XMLHttpRequest,o=new r;o.open("POST",e,!0),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isFunction)(n.onProgress)&&o.upload.addEventListener("progress",n.onProgress,!1),o.onload=n.onComplete||rf,o.onerror=n.onError||rf;var i=n.onStart||rf;if(window.FormData){var a=t;if(!(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isFormData)(t))for(var s in a=new FormData,t)a.append(s,t[s]);return o.send(a),i(o),o}try{if(r&&!r.prototype.sendAsBinary&&window.ArrayBuffer&&window.Uint8Array){var u=window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder;u&&(r.prototype.sendAsBinary=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t,0),r=0;r<e.length;r++)n[r]=255&e.charCodeAt(r);var o=new u;o.append(t);var i=o.getBlob();this.send(i)})}var c="----VkComFormBoundary-"+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.srand)(),l="",_=0,d=function(e,t,n){n+="--"+t+"--",e.setRequestHeader("Content-type",'multipart/form-data; boundary="'+t+'"'),e.sendAsBinary(n),i(e)};for(var f in t)if("function"==typeof t[f].getAsBinary){_++;var m=new FileReader,g=t[f],p=g.fileName||g.name||"";m.onload=function(){l+="--"+c+'\r\nContent-Disposition: form-data; name="'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.utf2win)(f)+'"; filename="'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.utf2win)(p)+'"\r\nContent-Type: application/octet-stream\r\n',m.result,--_||d(o,c,l)},m.readAsBinaryString(g)}else l+="--"+c+'\r\nContent-Disposition: form-data; name="'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.utf2win)(f)+'"\r\n\r\n'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.utf2win)(t[f])+"\r\n";return _||d(o,c,l),o}catch(e){return!1}return!1}function readFile(e,t){if(window.FileReader&&window.vk.iu_ex){var n=new FileReader;n.onload=function(){t&&t(n.result),n=null},n.readAsDataURL(e)}}function formatTime(e){var t,n,r,o=e<0;return t=(n=(e=Math.round(o?-e:e))%60)<10?"0"+n:n,t=(r=(e=Math.floor(e/60))%60)+":"+t,(e=Math.floor(e/60))>0&&(r<10&&(t="0"+t),t=e+":"+t),o&&(t="-"+t),t}function domClosestOverflowHidden(e){for(var t,n,r,o,i=e=ge(e);i&&i.tagName&&i!==bodyNode&&(t=getStyle(i,"position"),n=getStyle(i,"overflow"),r=getStyle(i,"transform"),i===e||"visible"===n||("static"===t?o&&"relative"!==o:"fixed"===o));)"none"!==r?o=void 0:"static"!==t&&"fixed"!==o&&(o=t),i=(i||{}).parentNode;return i}function copyToClipboard(e){var t;select__WEBPACK_IMPORTED_MODULE_6___default()(e);try{t=document.execCommand("copy")}catch(e){t=!1}return t}function blinkItem(e,t){setStyle(e,{opacity:1}),setTimeout((function(){return setStyle(e,{opacity:0})}),t)}function domPN(e){return(e||{}).parentNode}function matchesSelector(e,t){return!(!(e=ge(e))||e==document)&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(e){for(var t=(this.parentNode||this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t[n]!==this;);return n>-1}).call(e,t)}function domCA(e,t){do{e=domPN(e)}while(e&&!matchesSelector(e,t));return e}function getLang(){try{var e=Array.prototype.slice.call(arguments),t=e.shift();if(!t)return"...";var n=window.cur&&window.cur.lang&&window.cur.lang[t]||window.lang&&window.lang[t]||window.langpack&&window.langpack[t]||window[t];if(!n){var r=t.split("_");return r.shift(),r.join(" ")}return(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isFunction)(n)?n.apply(null,e):void 0===e[0]&&!(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(n)||"raw"===e[0]?n:langNumeric(e[0],n,e[1])}catch(e){console.log("lang error:"+e.message+"("+Array.prototype.slice.call(arguments).join(", ")+")")}}function throttle(e,t){var n;return function(){n||(e.apply(this,arguments),n=setTimeout((function(){n=!1}),t))}}function debounce(e,t){return function n(){n._timer&&clearTimeout(n._timer);var r=this,o=arguments;n._timer=setTimeout((function(){n._timer=null,e.apply(r,o)}),t)}}function scrollGetX(){return window.pageXOffset||scrollNode.scrollLeft||document.documentElement.scrollLeft}function scrollGetY(){return window.pageYOffset?window.pageYOffset:window.scrollNode?window.scrollNode.scrollTop:document.documentElement?document.documentElement.scrollTop:0}function domEL(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}function domPS(e){return domEL((e||{}).previousSibling,1)}function domNS(e){return domEL((e||{}).nextSibling)}function domFC(e){return domEL((e||{}).firstChild)}function domLC(e){return domEL((e||{}).lastChild,1)}function domInsertAfter(e,t){var n=domPN(t);return n&&n.insertBefore(e,domNS(t))}function domInsertBefore(e,t){var n=domPN(t);return n&&n.insertBefore(e,t)}function domChildIndex(e){for(var t=0;null!=(e=domPS(e));)t++;return t}function domChildren(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)n[r].tagName&&t.push(n[r]);return t}function safeGet(e,t){for(var n=t.split("."),r=n.length,o=e,i=0;i<r;i++)if(!(o=o[n[i]]))return;return o}function alwaysArray(e){return Array.isArray(e)?e:[e]}function disableFlex(){var e=(0,_mobile_lib_Dollars__WEBPACK_IMPORTED_MODULE_2__.$)(".vk"),t=Array.from((0,_mobile_lib_Dollars__WEBPACK_IMPORTED_MODULE_2__.$$)("*")),n=["A","IMG","SPAN"];e.classList.remove("vk_flex_yes"),e.classList.add("vk_flex_no"),t.filter((function(e){return e instanceof Element&&"flex"===getComputedStyle(e).display})).forEach((function(e){n.includes(e.tagName)?e.style.display="inline":e.style.display="block"}))}function flatArray(e){return Array.isArray(e)?flatten(e):[e]}function domQuery1(e,t){return(t||document).querySelector(e)}function domQuery(e,t){return(t||document).querySelectorAll(e)}function flatten(e){var t=[];return e.forEach((function(e){(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(e)?t=t.concat(flatten(e)):t.push(e)})),t}function isSFSafariViewController(){return window.navigator.userAgent.toString().startsWith("com.vk")}function isIosWebView(){return window.webkit&&window.webkit.messageHandlers}function isAndroidWebView(){return window.AndroidBridge}function isVkWebView(){return isIosWebView()?"object"==typeof window.webkit.messageHandlers.VKWebAppInit:!!isAndroidWebView()&&"function"==typeof window.AndroidBridge.VKWebAppInit}function ajaxRequest(e,t,n,r){n||(n=function(){}),t._ajax=1;var o=nav.getQuery("community");return o&&!t.community&&(t.community=o),ajax.post(e,t,{onDone:n,onFail:r})}function asc(e,t){return e-t}function desc(e,t){return t-e}function unique(e,t,n){return n.indexOf(e)===t}function first(e,t){return 1===arguments.length?e[0]:t.slice(0,e)}function last(e,t){return 1===arguments.length?e[e.length-1]:t.slice(-e)}function toInt(e){return parseInt(e,10)}function toArray(e){return"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map((function(t){return e[t]})):Array.isArray(e)?e:[e]}function groupBy(e,t){var n={};return e.forEach((function(e){var r=t(e);(n[r]||(n[r]=[])).push(e)})),n}function domInsert(e,t,n){var r="string"==typeof t?domCreate(t):t;n>=0&&e.children[n]?e.insertBefore(r,e.children[n]):e.appendChild(r)}function openApp(e,t){void 0===t&&(t=!1),e=e.startsWith("/")?"vk://vk.com"+e:"vk://"+e,nav.openInNativeApp(_mobile_browser__WEBPACK_IMPORTED_MODULE_1__.default.iphone?"iphone":"android",event,{href:e},!0,t)}function domCreate(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}function rs(e,t){return e.replace(/%([^%]+?)%/g,(function(e){return e=e.slice(1,-1),t.hasOwnProperty(e)?t[e]:""}))}function getPreloadData(){var e=ge("preload_data");return e?JSON.parse(e.innerHTML.replace("\x3c!--","").replace("--\x3e","")):[]}function base64ToArrayBuffer(e){0===e.indexOf("data:")&&(e=e.split(",")[1]);for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}function getImageOrientation(e){var t=base64ToArrayBuffer(e),n=new DataView(t);if(65496!==n.getUint16(0,!1))return-2;for(var r=n.byteLength,o=2;o<r;){var i=n.getUint16(o,!1);if(o+=2,65505===i){if(1165519206!==n.getUint32(o+=2,!1))return-1;var a=18761===n.getUint16(o+=6,!1);o+=n.getUint32(o+4,a);var s=n.getUint16(o,a);o+=2;for(var u=0;u<s;u++)if(274===n.getUint16(o+12*u,a))return n.getUint16(o+12*u+8,a)}else{if(65280!=(65280&i))break;o+=n.getUint16(o,!1)}}return-1}function ajaxLayoutEnabled(){return!(!window.SAKIntegration||!SAKIntegration.isIntegrated)||!(!window.al||!al.ver)}function getRect(e){if(!e||"function"!=typeof e.getBoundingClientRect)return{};var t=e.getBoundingClientRect();return Object.assign(t,{x:t.x||t.left,y:t.y||t.top})}function initStickySimulator(e,t,n){void 0===n&&(n={});var r=n.shouldCalculateAudioPlayer;(!(0,_shared_lib_detections__WEBPACK_IMPORTED_MODULE_13__.isSupportsSupported)()||(0,_shared_lib_detections__WEBPACK_IMPORTED_MODULE_13__.isSupportsSupported)()&&!CSS.supports("position","sticky"))&&onBodyScroll((function(){requestAnimationFrame((function(){var n=0;r&&document.body.classList.contains("vk_audio_player")&&(n=getH((0,_mobile_lib_Dollars__WEBPACK_IMPORTED_MODULE_2__.$)(".AudioPlayerBottomCollapsed")));var o=getRect(e()),i=t(),a=getH(i),s=getCh()-o.y-getH(i)-n;setStyle(i,"top",Math.min(o.height-a,s)+"px")}))}))}extend(getStyle,{transform:function(e){var t,n=getStyle(e,"transform");return n?{scale:(t=n.match(/(^|\s+)scale\(([0-9.]+)\)(\s+|$)/))&&t[2]||1,scale3d:(t=n.match(/(^|\s+)scale3d\(([0-9.]+,\s+([0-9.]+),\s+([0-9.]+))\)(\s+|$)/))&&t[2]||1,rotate:(t=n.match(/(^|\s+)rotate\(([0-9.-]+)(deg)?\)(\s+|$)/))&&+t[2]||0,translate:(t=n.match(/(^|\s+)translate\(([0-9.-]+)(px)?(?:,\s+([0-9.-]+)(px)?)\)(\s+|$)/))&&[+t[2],+t[4]]||[0,0],translate3d:(t=n.match(/(^|\s+)translate3d\(([0-9.-]+)(px)?(?:,\s+([0-9.-]+)(px)?)(?:,\s+([0-9.-]+)(px)?)\)(\s+|$)/))&&[+t[2],+t[4],+t[6]]||[0,0,0]}:{scale:1,rotate:0,translate:[0,0]}}}),extend(setStyle,{animate:function(e,t,n,r){if(getCssPropertyName(e,"transition")){if(!t)return e.onAnimationEnd?e.onAnimationEnd():setStyle.transition(e),setStyle;var o=((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isObject)(n)?n.duration:n)||200,i=n.func||"ease";setStyle.transition(e,t,o,i);var a=window.browser;e.onAnimationEnd&&(a.opera?e.removeEventListener("oTransitionEnd",e.onAnimationEnd):removeEvent(e,"transitionend webkitTransitionEnd oTransitionEnd otransitionend msTransitionEnd",e.onAnimationEnd)),e.onAnimationEnd=function(){return a.opera?e.removeEventListener("oTransitionEnd",e.onAnimationEnd):removeEvent(e,"transitionend webkitTransitionEnd oTransitionEnd otransitionend msTransitionEnd",e.onAnimationEnd),e.onAnimationEnd=null,setStyle.transition(e),r&&r(e),!1},a.opera?e.addEventListener("oTransitionEnd",e.onAnimationEnd):addEvent(e,"transitionend webkitTransitionEnd oTransitionEnd otransitionend msTransitionEnd",e.onAnimationEnd)}return setStyle},transform:function(e,t,n,r){var o=window.has3d,i=[];if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isObject)(t)){o&&(t.scale3d=t.scale,t.translate3d=t.translate);var a=extend(getStyle.transform(e),t);t=o?a.scale3d:a.scale,r=a.rotate,n=o?a.translate3d:a.translate}if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(t)?o?i.push("scale3d("+cssValue(t[0])+", "+cssValue(t[1])+", 1)"):i.push("scale("+cssValue(t[0])+", "+cssValue(t[1])+")"):void 0!==t&&(o?i.push("scale3d("+cssValue(t)+", "+cssValue(t)+", 1)"):i.push("scale("+cssValue(t)+")")),void 0!==r&&i.push("rotate("+cssValue(r,"deg")+")"),void 0!==n&&(o?i.push("translate3d("+cssValue(n[0],"px")+", "+cssValue(n[1],"px")+", 0)"):i.push("translate("+cssValue(n[0],"px")+", "+cssValue(n[1],"px")+")")),!i.length)return setStyle(e,"transform","none");setStyle(e,"transform",i.join(" "))},transformOrigin:function(e,t,n){(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(t)&&(n=t[1],t=t[0]),setStyle(e,"transform-origin",cssValue(t,"px")+" "+cssValue(n,"px"))},transition:function(e,t,n,r){var o=[];if(!t)return setStyle(e,"transition","none");(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isArray)(t)||(t=t.split(/\s*,\s*/)),n=cssValue(n,"ms"),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.each)(t,(function(){var t=getCssPropertyName(e,this,!0),i=[];t&&(i.push(t),i.push(n),r&&i.push(r),o.push(i.join(" ")))})),setStyle(e,"transition",o.join(","))}}),isReady=!1,readyList=[],ready=function(){if(!isReady&&(isReady=!0,window.htmlNode=geByTag1("html"),window.bodyNode=geByTag1("body"),readyList)){for(var e=null;e=readyList.shift();)e.call(document);readyList=null}},document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e,!1),ready()}),!1):document.attachEvent&&document.attachEvent("onreadystatechange",(function e(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),ready())})),window.addEventListener?window.addEventListener("load",ready,!1):window.attachEvent?window.attachEvent("onload",ready):window.onload=ready,window.onDOMReady=window.onDOMReady||function(e){isReady?e.call(document):readyList.push(e)},window.cdf=(doc=document,frag=doc.createDocumentFragment(),elem=doc.createElement("div"),range=doc.createRange&&doc.createRange(),frag&&frag.appendChild(elem),range&&range.selectNodeContents&&range.selectNodeContents(elem),frag?range&&range.createContextualFragment?function(e){return e?range.createContextualFragment(e):doc.createDocumentFragment()}:function(e){if(!e)return doc.createDocumentFragment();elem.innerHTML=e;for(var t=doc.createDocumentFragment();elem.firstChild;)t.appendChild(elem.firstChild);return t}:function(e){return ce("div",{innerHTML:e})}),onDOMReady((function(){_mobile_browser__WEBPACK_IMPORTED_MODULE_1__.default.chrome||_mobile_browser__WEBPACK_IMPORTED_MODULE_1__.default.msie_edge?window.scrollNode=document.scrollingElement||bodyNode:window.scrollNode=_mobile_browser__WEBPACK_IMPORTED_MODULE_1__.default.safari?bodyNode:htmlNode}))},3226:function(e,t,n){"use strict";function r(){var e=[],t=o.bind(e);return t.off=i.bind(e),t._fns=e,t}function o(){var e=this,t=arguments,n=t[0];if("function"!=typeof n){for(var r=e.length,o=!1,i=0;i<r;i++)!0===e[i].apply(null,t)&&(o=!0);return o}Array.prototype.slice.call(t).forEach((function(t){return e.push(t)}))}function i(e){e?function(e,t){for(;;){var n=e.indexOf(t);if(!(n>=0))break;e.splice(n,1)}}(this,e):this.length=0}function a(e,t){e((function n(){t.apply(void 0,arguments),setTimeout((function(){e.off(n)}))}))}n.d(t,{onEmitOnce:function(){return a}}),t.default=Object.assign(r,{kind:function(){var e={};return function(t){return e[t]||(e[t]=r())}}}),window.befall=r},85969:function(e,t,n){"use strict";function r(e,t){return-1!==e.indexOf(t)}function o(e,t){for(;;){var n=e.indexOf(t);if(!(n>=0))break;e.splice(n,1)}}function i(e,t){return e.some((function(e){return-1!==t.indexOf(e)}))}n.d(t,{arrayContains:function(){return r},arrayRemove:function(){return o},arrayIntersects:function(){return i}})},33145:function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=50),setStyle(e,{"box-shadow":"inset 0 0 0 9999px rgba(255, 0, 0, 0.3)"}),setTimeout((function(){return setStyle(e,{"box-shadow":"none"})}),t)}n.d(t,{blinkItemColor:function(){return r}})},11150:function(e,t,n){"use strict";var r=n(9046),o=n(3226),i=window.pStats||{onSeen:(0,r.se)(),onViewed:(0,o.default)(),_seen:{},_saved:{},_saveTimer:null,_sendTimer:null,_cleanTimer:null,LS_ADS_EVENTS:"ads.events",postsGetRaws:function(e,t){var n,o;if((e=ge(e))&&e instanceof HTMLElement){var i,a=e.id||"",s=attr(e,"data-copy")||"",u={},c={height:t.offsetHeight,index:(0,r.indexOf)((0,r.domPN)(t).children,t)-1,ref:null!=(n=null==e.getAttribute?void 0:e.getAttribute("data-from-ref"))?n:void 0,trackCode:null!=(o=null==e.getAttribute?void 0:e.getAttribute("data-track-code"))?o:void 0};if("block_"===a.substr(0,6)){u[a]=1,c.block=a.substr(6);var l=attr(e,"data-contain");l&&(l=l.split(",")).forEach((function(e){e=e.split(":"),u[e[0]]=intval(e[1])||1}))}else(i=a.match(/^wall(adsite.*)$/))?u[i[1]]=1:(i=a.match(/^wall(-?\d+_\d+)$/))&&(u[i[1]]=1,(i=s.match(/^(-?\d+_\d+)$/))&&(u[i[1]]=-1));var _=attr(e,"data-ad-view");return _&&(u["ad_"+_]=1),{extra:c,post:u}}},seen:function(e){var t;if(e.length){var n,o,a,s,u=window.vk;if(((null==(t=window.UnauthorizedFeed)?void 0:t.isActive)||u.id)&&e.length){window._postsExtras||(window._postsExtras={});var c=(0,r.getCh)();e.forEach((function(e){var t=e.post,r=e.extra,u=r.block,l=r.height,_=r.index,d=r.ref,f=r.trackCode;Object.keys(t).forEach((function(e){o=t[e],a=i._seen[e],-1===(s=i._saved[e])||-1===a||1===o&&(s||a)||(n=i._seen[e]=o,window._postsExtras[e]={index:_,block:u,height:l,ref:d,trackCode:f,viewportHeight:c})}))})),n&&(clearTimeout(i._saveTimer),i._saveTimer=setTimeout(i.save,2500),clearTimeout(i._sendTimer),i._sendTimer=setTimeout(i.send,5e3)),i.onSeen("1")}}},save:function(){if(!lsCheck()||isEmpty(i._seen))return i._seen;var e,t,n,r,o,a=window.vk,s=Math.floor((a.ts+Math.floor((vkNow()-a.started)/1e3))/3600),u=lsGet("posts_sent")||{},c=lsGet("posts_seen")||{},l=lsGet("posts_extras")||{};for(t in window._postsExtras||(window._postsExtras={}),i._seen)o=i._seen[t],_postsExtras[t]&&(l[t]={index:_postsExtras[t].index,block:_postsExtras[t].block,height:_postsExtras[t].height,ref:_postsExtras[t].ref,trackCode:_postsExtras[t].trackCode,viewportHeight:_postsExtras[t].viewportHeight},delete window._postsExtras[t]),"ad"!==(n=t.split("_"))[0]&&"adsite"!==n[0]&&"block"!==n[0]&&(n[0]=intval(n[0]),n[1]=intval(n[1])),r=(u[n[0]]||{})[n[1]],n[0]!=a.id&&(!r||-1==o&&r>0)&&(c[n[0]]||(c[n[0]]={}),(!c[n[0]][n[1]]||-1==o&&c[n[0]][n[1]]>0)&&(e=c[n[0]][n[1]]=s*o)),i._saved[t]=o;i._seen={},e&&(lsSet("posts_seen",c),lsSet("posts_extras",l))},getSeenData:function(){var e,t,n,r={},o={},a=[];if(lsCheck())r=lsGet("posts_seen"),o=lsGet("posts_extras")||{};else for(e in n=i.save()){var s=n[e],u=e.split("_");u[0]=intval(u[0]),u[0]&&(u[1]=intval(u[1])),r[u[0]]||(r[u[0]]={}),(!r[u[0]][u[1]]||-1==s&&r[u[0]][u[1]]>0)&&(r[u[0]][u[1]]=s)}for(e in r){for(t in n=[],r[e]){var c=r[e][t]>0?t:-t,l=o[e+"_"+t],_="";l?(_+=":"+(l.index||""),_+=":"+(l.block||""),_+=":"+(l.height||""),_+=":"+(l.viewportHeight||""),_+=":"+(l.ref||""),_=(_+=":"+(l.trackCode||"")).replace(/:+$/,"")):_="","block"!==e||cur._pstatbref||(cur._pstatbref=attr(ge(e+"_"+t),"data-ref")),n.push(c+_)}n.length&&a.push(e+"_"+n.join(","))}return a.length?{seen:r,data:a.join(";")}:""},onSend:function(e){if(!lsCheck())return extend(i._saved,i._seen);var t,n,r=lsGet("posts_seen")||{},o=lsGet("posts_sent")||{};for(t in e){for(n in e[t])o[t]||(o[t]={}),-1!=o[t][n]&&(o[t][n]=e[t][n]),(r[t]||{})[n]&&delete r[t][n];r[t]&&isEmpty(r[t])&&delete r[t]}lsSet("posts_seen",r),lsSet("posts_sent",o),clearTimeout(i._cleanTimer),i._cleanTimer=setTimeout(i.clean,1e4)},send:function(){var e,t,n=window.cur,r=window.vk,o=i.getSeenData();if(o.data){if(!r.id&&!(null==(e=window.UnauthorizedFeed)?void 0:e.isActive))return i.clear();var a="";(null==(t=window.UnauthorizedFeed)?void 0:t.isActive)?a="unauthorized":!nav||"/feed?section=podcasts"!==nav.cur&&"/feed/podcasts"!==nav.cur?n&&n.module?a=n.module:nav&&"/feed"==nav.cur&&(a="feed"):a="feed_podcasts";var s={_ajax:1,act:"ping",_pstat:o.data,_pstatref:a};n._pstatbref&&(s._pstatbref=n._pstatbref),ajax.post("/",s,{onDone:function(){i.onSend(o.seen)}}),delete n._pstatbref}},resetSendTimer:function(){clearTimeout(i._sendTimer),i._sendTimer=setTimeout(i.send,1e4)},clean:function(){var e,t,n,r=window.vk,o=Math.floor((r.ts+Math.floor((vkNow()-r.started)/1e3))/3600),a=lsGet("posts_sent")||{};for(e in a){for(t in a[e])o-((n=a[e][t])>0?n:-n)>24&&delete a[e][t];isEmpty(a[e])&&delete a[e]}lsSet("posts_sent",a),i.cleanAdsEvents()},clear:function(){lsSet("posts_seen",{}),lsSet("posts_sent",i._saved=i._seen={}),lsSet(i.LS_ADS_EVENTS,i._lsAdsEvents={})},getStatsObj:function(e){return e=ge(e),hasClass("_stats_cont",e)?e:gpeByClass("_stats_cont",e)},getAdsEvents:function(){var e=i._lsAdsEvents;return e||(e=i._lsAdsEvents=lsGet(i.LS_ADS_EVENTS)||{}),e},cleanAdsEvents:function(){var e=i.getAdsEvents(),t=(new Date).getTime()/1e3|0,n=!1;each(e,(function(r,o){t-o>=3600&&(delete e[r],n=!0)})),n&&lsSet(i.LS_ADS_EVENTS,e)},checkPixelEvent:function(e,t){var n=e.getAttribute("data-ad-block-uid"),o=-1!==(0,r.indexOf)(["load","impression"],t);if(!n||!o)return!0;try{var a=hashCode(""+t+n),s=i.getAdsEvents();if(s[a])return!1;var u=(new Date).getTime()/1e3|0;s[a]=u,lsSet(i.LS_ADS_EVENTS,s)}catch(e){try{console.log(e.message)}catch(e){}}return!0},getPixelElements:function(e,t){var n=[];return each(geByClass(t,e),(function(){attr(this,"data-src")&&n.push(this)})),n},sendPixels:function(e){each(e,(function(){attr(this,"src",attr(this,"data-src")),attr(this,"data-src",!1),addClass("_cntr",this)}))},viewed:function(e){if(i.onViewed(e),e=i.getStatsObj(e)){var t=i.getPixelElements(e,"_cntr_view");t.length&&i.checkPixelEvent(e,"impression")&&i.sendPixels(t)}},clicked:function(e){if(e=i.getStatsObj(e)){attr(e,"data-clicked","1");var t=i.getPixelElements(e,"_cntr_click");t.length&&i.sendPixels(t),checkPostsSeen()}}};i._sendTimer||i.resetSendTimer(),window.pStats=i,t.default=i},17999:function(e,t,n){"use strict";n.d(t,{rand:function(){return r},replaceEntities:function(){return g},isArray:function(){return u},isEmpty:function(){return l},isFunction:function(){return i},isFormData:function(){return a},isHttpHref:function(){return b},isObject:function(){return c},isString:function(){return s},isUndefined:function(){return o},irand:function(){return w},escapeAttr:function(){return f},escapeRE:function(){return _},escapeStr:function(){return p},each:function(){return C},htsc:function(){return d},copy:function(){return D},vkNow:function(){return y},unescapeAttr:function(){return m},utf2win:function(){return E},srand:function(){return h},stripTags:function(){return v},intval:function(){return S},vkImage:function(){return O},isElement:function(){return T}});var r=function(e,t){return Math.random()*(t-e+1)+e},o=function(e){return void 0===e},i=function(e){return e&&"[object Function]"===Object.prototype.toString.call(e)},a=function(e){return e&&"[object FormData]"===Object.prototype.toString.call(e)},s=function(e){return"string"==typeof e},u=function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e){return"[object Object]"===Object.prototype.toString.call(e)},l=function(e){if(!c(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},_=function(e){return e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):""},d=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;")},f=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;")},m=function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'")},g=function(e){return ce("textarea",{innerHTML:(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}).value},p=function(e){return e.replace(/\'/g,"\\'")},v=function(e){return e.replace(/<[^>]+>/g,"")},h=function(){return Math.random().toString(36).substr(2)},w=function(e,t){return Math.floor(r(e,t))},E=function(e){return unescape(encodeURIComponent(e))};function b(e){var t=(e+"").split(":"),n=t[1]&&t[0]?t[0]+":":location.protocol;return"http:"===n||"https:"===n}var y=function(){return+new Date};function S(e){return!0===e?1:parseInt(e)||0}function C(e,t){if(!e)return e;if(c(e)||void 0===e.length){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],n,e[n]))break}else for(var r=0,o=e.length;r<o;r++){var i=e[r];if(!1===t.call(i,r,i))break}return e}function D(e){return u(e)?e.concat([]):c(e)?extend({},e):e}var O=function(){return window.Image?new Image:ce("img")},T=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}},27813:function(e,t,n){"use strict";n.d(t,{getCookie:function(){return i},setCookie:function(){return a}});var r=n(86353),o=n(86900);function i(e){return function(){window._cookies={};for(var e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i,n=0,r=e.length;n<r;n++){var o=e[n].split("=");2===o.length&&(_cookies[o[0].match(t)[1]]=unescape(o[1].match(t)?o[1].match(t)[1]:""))}}(),"https:"!==location.protocol&&(0,o.statlogsValueEvent)("read_unsecure_cookie",e,location.href),_cookies[e]}function a(e,t,n,o,i,a,s){void 0===i&&(i="None"),void 0===a&&(a=window.locDomain),void 0===s&&(s={});var u=e+"="+escape(t),c=s.withoutSubdomains?".":"",l="; path=/"+(a?"; domain="+c+a:""),_="https:"===location.protocol,d=!!o;(0,r.partConfigEnabled)("cookie_secure_default_true")&&(d=!1!==o);var f=_&&d?"; secure":"",m=d&&browser.chrome&&parseInt(browser.version)>=71&&(0,r.partConfigEnabled)("cookie_class_samesite")?"; SameSite="+i:"",g="";if(n){var p=new Date;p.setTime(p.getTime()+24*n*60*60*1e3),g="; expires="+p.toGMTString()}document.cookie=u+g+l+m+f}},20848:function(e,t,n){"use strict";n.d(t,{isDarkTheme:function(){return r},isLightTheme:function(){return o},isCSSVariablesSupported:function(){return i},isMatchMediaSupported:function(){return a},isFlexboxSupported:function(){return s},isAutoSchemesSupported:function(){return u},isSupportsSupported:function(){return c},isGridsSupported:function(){return l},isSVGSupported:function(){return _},isIntersectionObserverSupported:function(){return d},isStickySupported:function(){return f},isWebRTCCallsSupported:function(){return m}});var r=function(){return Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)},o=function(){return Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches)},i=function(){return Boolean(window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)"))},a=function(){return Boolean(window.matchMedia)},s=function(){return document.documentElement.classList.contains("vk_flex_yes")},u=function(){return Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches)},c=function(){return Boolean(window.CSS&&CSS.supports)},l=function(){return Boolean("string"==typeof document.createElement("div").style.grid)},_=function(){return Boolean(document.createElementNS)&&Boolean(document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)},d=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype},f=function(){return Boolean(CSS&&CSS.supports&&CSS.supports("position","sticky"))},m=function(){if(window.navigator.userAgent.indexOf("Edge")>-1)return!1;try{return Boolean(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.RTCPeerConnection&&window.RTCIceCandidate&&window.RTCSessionDescription)}catch(e){return!1}}},51988:function(e,t,n){"use strict";var r=n(90302);function o(e){try{r.vkLocalStorage.removeItem(e)}catch(e){}}t.default={checkVersion:function(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(e){return!1}},remove:o,get:function(e){try{return JSON.parse(r.vkLocalStorage.getItem(e))}catch(e){return!1}},set:function(e,t){o(e);try{return r.vkLocalStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}}}},86900:function(e,t,n){"use strict";n.d(t,{statlogsValueEvent:function(){return c}});var r,o,i=n(27813),a=n(36557),s=n(17999),u=n(51988);function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var u;void 0!==e&&void 0!==t&&l((function(){try{u=(u=JSON.parse((0,i.getCookie)(o))).data}catch(e){u=[]}u.push([Math.round(Date.now()/1e3),e,t].concat(r)),u=u.slice(u.length-100);var n=Math.round((0,s.rand)(0,1e9));(0,i.setCookie)(o,JSON.stringify({data:u,uniqueId:n}),.01)}))}function l(e,t){if(u.default.checkVersion()){if(!0!==u.default.get(r)){u.default.set(r,!0);try{e()}catch(e){}return void u.default.set(r,!1)}t||setTimeout((function(){return l(e,!0)}),100)}else e()}(0,a.isMvk)()?(r="lock_m_stats_cookie_lock",o="remixmsts"):(r="lockkk_stats_cookie_lock",o="remixsts")},86353:function(e,t,n){"use strict";n.d(t,{randEnabled:function(){return o},partConfigEnabled:function(){return i},calculateTimeOffsets:function(){return a}});var r=n(27813);function o(e){return Math.random()<e}function i(e){var t=(window.vk||{}).pe;return!!(void 0===t?{}:t)[e]}function a(){var e=window.vk.ts;if(e&&!window.browser.opera_mobile){var t=new Date,n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())/1e3-e;n-=10800,n=(n/=60).toFixed(0),(n*=60)<-55800?n+=86400:n>37800&&(n-=86400);var o=0,i=Math.abs(n);[-12,-11,-10,-9.5,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2,-1,0,1,2,3,3.5,4,4.5,5,5.5,5.75,6,6.5,7,8,8.75,9,9.5,10,10.5,11,12,12.75,13,14].forEach((function(e){var t=Math.round(3600*(e-3)),r=Math.abs(n-t);r<i&&(i=r,o=t)}));var a=(0,r.getCookie)("remixdt");return void 0!==a&&intval(a)===o||(0,r.setCookie)("remixdt",o,365),o}return 0}},67989:function(e,t,n){"use strict";n.d(t,{PostsObserver:function(){return u}});var r=n(33145),o=n(1730),i=n(9046),a=n(11150);function s(e){return Boolean(1&e&&2&e)}var u=function(){function e(e){var t,n=this;this.onObservedEntriesChange=function(e,t){var n=[];e.forEach((function(e,u){var c=e.target.classList.contains("wall_item")||e.target.classList.contains("post_item")?e.target:(0,o.$)(".wall_item, .post_item",e.target),l=c.bits||0;if(!c.getAttribute("data-ignore"))if(s(+c.bits))t.unobserve(e.target);else{var _=c.getAttribute("data-clicked"),d=e.rootBounds||{height:Number((0,i.getCh)()),bottom:0,left:0,right:0,top:0,width:Number((0,i.getCw)()),x:0,y:0,toJSON:function(){}};if(_||1===e.intersectionRatio?l|=3:(l|=e.boundingClientRect.top>=d.top&&e.boundingClientRect.top<d.bottom?1:0,l|=e.boundingClientRect.bottom>=d.top&&e.boundingClientRect.bottom<d.bottom?2:0),s(l)){t.unobserve(e.target);var f=a.default.postsGetRaws(c,e.target);a.default.viewed(c),n.push(f),window.pStats.__debug&&(0,r.blinkItemColor)(c)}c.bits=l}})),a.default.seen(n)},this.observer=new IntersectionObserver(this.onObservedEntriesChange,{threshold:(void 0===t&&(t=20),new Array(t+1).fill(0).map((function(e,n){return n/t})))}),e.forEach((function(e){n.observer.observe(e)}))}return e.prototype.disconnect=function(){this.observer.disconnect()},e.prototype.onNewPosts=function(e){var t=this;window.pStats.__debug&&window.clog("[PostsObserver] "+e.length+" posts was handled"),e.forEach((function(e){s(+e.bits)||t.observer.observe(e)}))},e}()},7934:function(e,t,n){"use strict";n.d(t,{isElementVisible:function(){return o},scrollTo:function(){return i},ceFromString:function(){return a}});var r=n(9046);function o(e){var t=e.getBoundingClientRect(),n=(0,r.getCw)(),o=(0,r.getCh)();return!(t.right<0||t.bottom<0||t.left>n||t.top>o)}function i(e,t){var n=e.toFixed(),o=function(){window.pageYOffset.toFixed()===n&&((0,r.removeEvent)(window,"scroll",o),t())};(0,r.addEvent)(window,"scroll",o),o(),window.scrollTo({top:e,behavior:"smooth"})}function a(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}},89722:function(e,t,n){"use strict";n.d(t,{logError:function(){return i},logEvalError:function(){return a}});var r=n(98609),o=n(85124);function i(e,t){if(void 0===t&&(t={}),null===window||void 0===window?void 0:window.Raven){var n=t.breadcrumb,i=t.environment;n&&window.Raven.captureBreadcrumb({message:n.message,category:o.customBreadcrumbCategory,data:n.data}),i?window.Raven.captureException(e,{environment:i}):window.Raven.captureException(e),(0,r.logError)(e,t)}}function a(e,t){window.Raven&&(t&&t.length>2e3&&(t=t.slice(0,1e3)+"..."+t.slice(-1e3)),e.message+=": "+t,i(e))}},2013:function(e,t,n){"use strict";n.d(t,{isStuckError:function(){return g},pruneRequestFromStuckErrors:function(){return p}});var r,o,i=n(97316),a=n(86353),s=n(36726),u=n(42604),c="mvk"===(null===(o=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===o?void 0:o.platform)&&(0,a.partConfigEnabled)("mute_mvk_err_peaks"),l=n(61686),_=10,d=c&&l(_),f=c&&l(_,5e3),m=function(e){var t=e.value,n=e.stacktrace,r=e.file,o=e.page;return[t,n.join(""),r,o].join("_")},g=function(e){if(!c||!f||!d)return!1;var t=m(e),n=(0,i.__read)([d.get(t)||0,f.get(t)||0],2),r=n[0],o=n[1];return d.set(t,++r),f.set(t,++o),o>=_||r>=50},p=c?function(e){var t,n,r=Date.now(),o="jsErrorLogs",a=(0,s.getWebStatsStringValue)(o,e);if(((null===(t=a.match(new RegExp("},{","g")))||void 0===t?void 0:t.length)||0)<_)return e;try{n=JSON.parse(a)}catch(e){(0,u.logProcessingTime)(1,"dedupe-fail")}if(!n)return e;var c=Object.values(n.reduce((function(e,t){var n,r=m(t),o=e[r]||[];return(0,i.__assign)((0,i.__assign)({},e),((n={})[r]=o.length<_?o.concat(t):o,n))}),{})),l=e.replace('"jsErrorLogs":'+a,'"jsErrorLogs":'+JSON.stringify([].concat.apply([],c))),d=Date.now()-r;return d>16&&(0,u.logProcessingTime)(d,"dedupe"),l}:function(e){return e}},11386:function(e,t,n){"use strict";n.d(t,{prepareError:function(){return r.prepareError},getRavenXhrTransport:function(){return o.getRavenXhrTransport},logError:function(){return i.logError},logEvalError:function(){return i.logEvalError}});var r=n(20066),o=n(1479),i=n(89722)},20066:function(e,t,n){"use strict";function r(e,t){var n=e.exception&&e.exception.values[0]||{type:"Message",value:e.message+o(e),stacktrace:e.stacktrace||{frames:[]}};"Error"===n.type&&n.value.startsWith("Non-Error exception captured with keys:")&&(n.value+=o(e)),!n.value&&e.message&&(n.value=e.message);var r=n.type,s=n.value,u=n.stacktrace,c=window.location,l=c.origin,_=c.protocol,d=c.hostname,f=c.port,m=c.href;f=f?":"+f:"",l=l||_+"//"+d+f;var g=e.environment,p=e.transaction,v=e.breadcrumbs;return{id:e.event_id,module:g||t(p,u,s),type:r,value:s,file:p,breadcrumbs:i(v),stacktrace:a(u,l),page:m,release:window.vk.rv,time:window.vk.ts+Math.floor(((new Date).getTime()-window.vk.started)/1e3)}}function o(e){return e.extra&&e.extra.__serialized__?"\n"+JSON.stringify(e.extra.__serialized__).slice(0,500):""}function i(e){if(!e||!e.values||0===e.values.length)return"";var t=e.values[0],n=t.data,r=t.category,o=t.message;return"xhr"===r?n.method+":"+n.status_code+":"+n.url:"custom"===r?o+":"+JSON.stringify(n):""}function a(e,t){var n=[];return e.frames.forEach((function(e,r){0===r&&(e.filename.includes("raven_logger.js")||e.filename.includes("raven.js"))||n.push(e.filename.replace(t,"")+":"+e.lineno+":"+e.colno+":"+e.function)})),n}n.d(t,{prepareError:function(){return r}})},1479:function(e,t,n){"use strict";n.d(t,{getRavenXhrTransport:function(){return i}});var r=n(24961),o=n(2013),i=function(e){return function(t){var n=t.data,i=t.onSuccess,a=e(n);!(0,o.isStuckError)(a)&&(0,r.saveJsErrorLogs)(a),i()}}},85124:function(e,t,n){"use strict";n.d(t,{filenameToVkModule:function(){return o},commonIgnoreErrors:function(){return i},PROTECTED_MODULE_NAME_TAG:function(){return a},customBreadcrumbCategory:function(){return s},anonymousName:function(){return u},nativeCode:function(){return c}});var r=n(95132),o={"bundles/fastchat_reforged":"messenger","bundles/audioplayer":"audioplayer","web/imn":"im","web/stories":"stories","web/notifier":"notifier","web/videoplayer":"videoplayer","web/article":"articles","web/calls":"calls"},i=[/^AbortError:/],a="__protectedModuleName",s="custom",u=(0,r.getFunctionName)(void 0),c="[native code]"},98609:function(e,t,n){"use strict";n.d(t,{logError:function(){return o}});var r=n(85124);function o(e,t){var n,o=void 0===t?{}:t,i=o.breadcrumb,a=o.environment,s=void 0===a?null===(n=null===window||void 0===window?void 0:window.cur)||void 0===n?void 0:n.module:a,u=o.hasDummyStacktrace;if(null===window||void 0===window?void 0:window.Sentry)return u&&"object"==typeof e&&(null==e?void 0:e.stack)&&delete e.stack,window.Sentry.captureException(e,(function(e){var t;return s&&e.setTags(((t={module:s})[r.PROTECTED_MODULE_NAME_TAG]=!0,t)),i&&e.addBreadcrumb({message:i.message,category:r.customBreadcrumbCategory,data:i.data}),e}))}},36557:function(e,t,n){"use strict";n.d(t,{isMvk:function(){return o},getVideoDuration:function(){return i},getMediaBlob:function(){return a},getBlobType:function(){return s},noop:function(){return u},getAverageRGB:function(){return c},loadVideo:function(){return l},getPhotoFromVideo:function(){return _},loadImage:function(){return d},loadImages:function(){return f},loadFontFacePromise:function(){return g},getCroppedImage:function(){return p}});var r=n(97316);function o(){return!!window.isMVK}function i(e){return void 0===e&&(e=""),new Promise((function(t,n){var r=document.createElement("video");r.addEventListener("loadedmetadata",(function(){return t(r.duration)}),{once:!0}),r.addEventListener("error",n,{once:!0}),r.crossOrigin="anonymous",r.preload="metadata",r.src=e}))}function a(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){if(404===r.response.status)return n();t(r.response)},r.onerror=n,r.send()}))}function s(e){try{return e.type.split("/").splice(-1)[0]}catch(e){return null}}var u=function(){};function c(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=0);var i,a={r:0,g:0,b:0};r=r||e.canvas.width,o=o||e.canvas.height;try{i=e.getImageData(t,n,r,o)}catch(e){return a}for(var s=-4,u=0;(s+=20)<i.data.length;)++u,a.r+=i.data[s],a.g+=i.data[s+1],a.b+=i.data[s+2];return a.r=~~(a.r/u),a.g=~~(a.g/u),a.b=~~(a.b/u),a}function l(e){return new Promise((function(t,n){var r=document.createElement("video");r.muted=!0,r.autoplay=!0,r.addEventListener("canplay",(function(){r.pause(),t(r)}),{once:!0}),r.addEventListener("error",n,{once:!0}),r.crossOrigin="anonymous",r.src=e}))}function _(e,t){void 0===t&&(t=[0]);var n=[];return new Promise((function(r,o){var i=document.createElement("canvas"),a=i.getContext("2d"),s=e.videoWidth,u=e.videoHeight;i.width=s,i.height=u,function c(l){var _=e.currentTime;e.addEventListener("seeked",(function(){null==a||a.drawImage(e,0,0,s,u,0,0,s,u),e.currentTime=_,d(i.toDataURL("image/jpeg",1)).then((function(o){n.push(o),l>=t.length-1?(e.src="",r(n)):c(l+1)})).catch(o)}),{once:!0}),e.currentTime=-1===t[l]?e.duration:t[l]}(0)}))}function d(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin=e.startsWith("data:")?null:"Anonymous",r.onerror=function(){return n(new Error("Failed to load image's URL: "+e))},r.onload=function(){return t(r)},r.src=e}))}var f=function(e){return new Promise((function(t){var n=e.map((function(e){return d(e)}));Promise.all(n).then((function(e){return t(e)})).catch((function(){}))}))};function m(e,t){var n,r,o,i,a,s,u,c,l={normal:"400",500:"500",600:"600",bold:"700"},_={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},d={display:"block","font-size":"48px","line-height":"normal","font-variant":"normal","white-space":"nowrap",position:"absolute",visibility:"hidden",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0"};function f(e){var t=[];return each(e,(function(e,n){t.push(e+":"+n)})),t.join(";")}function m(e,t,n){return Math.abs(e.width-t.offsetWidth)>n||Math.abs(e.height-t.offsetHeight)>n}function g(){i||(utilsNode.appendChild(a),i=!0,o={sansSerif:{width:u.offsetWidth,height:u.offsetHeight},serif:{width:s.offsetWidth,height:s.offsetHeight}},browser.opera&&!browser.chrome?(u.style.fontFamily='"'+e+'", sans-serif',s.style.fontFamily='"'+e+'", serif'):(setStyle(u,"font-family",'"'+e+'", sans-serif'),setStyle(s,"font-family",'"'+e+'", serif'))),i&&o&&(m(o.sansSerif,u,t.tolerance)||m(o.serif,s,t.tolerance))?(re(a),t.success()):(new Date).getTime()-r.getTime()>t.timeout?(re(a),t.error()):!i&&"requestAnimationFrame"in window?window.requestAnimationFrame(g):window.setTimeout(g,t.delay)}for(var p in _)t.hasOwnProperty(p)||(t[p]=_[p]);d["font-weight"]=t.weight,d["font-style"]=t.style,!t.glyphs&&"fonts"in document?(t.timeout&&(n=setTimeout((function(){t.error()}),t.timeout)),function(n){each(null===document||void 0===document?void 0:document.fonts,(function(r){r.family.toLowerCase()===e.toLowerCase()&&(l[r.weight]||r.weight)===""+t.weight&&r.style===t.style&&r.load().then((function(){t.success(),clearTimeout(n)}))}))}(n)):(c="AxmTYklsjo190QW"+t.glyphs,r=new Date,a=ce("div"),u=ce("div",{innerHTML:c}),s=ce("div",{innerHTML:c}),u.setAttribute("style",f(extend({"font-family":"sans-serif"},d))),s.setAttribute("style",f(extend({"font-family":"serif"},d))),a.appendChild(u),a.appendChild(s),g())}function g(e,t){return new Promise((function(n,o){m(e,(0,r.__assign)((0,r.__assign)({},t),{glyphs:"",success:function(){var e=function(){n(),(null==t?void 0:t.success)&&t.success()};browser.safari?setTimeout(e,150):e()},error:function(){o(),(null==t?void 0:t.error)&&t.error()}}))}))}function p(e,t,n,r,o,i){return void 0===i&&(i=0),new Promise((function(a,s){("string"==typeof e?d(e):Promise.resolve(e)).then((function(e){var u=document.createElement("canvas");u.width=90===i||270===i?e.naturalHeight:e.naturalWidth,u.height=90===i||270===i?e.naturalWidth:e.naturalHeight;var c=u.getContext("2d");if(c){c.fillStyle="#fff",c.fillRect(0,0,c.canvas.width,c.canvas.height),i?(c.translate(u.width/2,u.height/2),c.rotate(i*Math.PI/180),c.drawImage(e,-e.naturalWidth/2,-e.naturalHeight/2)):c.drawImage(e,0,0);var l=c.getImageData(t,n,r,o),_=document.createElement("canvas");_.width=r,_.height=o;var f=_.getContext("2d");if(f)return f.putImageData(l,0,0),d(_.toDataURL("image/jpeg",1)).then(a).catch(s);a(e)}else a(e)})).catch(s)}))}},90302:function(e,t,n){"use strict";n.d(t,{vkLocalStorage:function(){return c},vkSessionStorage:function(){return _}});var r,o=function(){function e(){var e=this;this.data={},this.getItem=function(t){return e.data.hasOwnProperty(t)?e.data[t]:null},this.keys=function(){return Object.keys(e.data)}}return e.prototype.setItem=function(e,t){this.data[e]=String(t)},e.prototype.removeItem=function(e){delete this.data[e]},e.prototype.clear=function(){this.data={}},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.data).length},enumerable:!1,configurable:!0}),e.prototype.key=function(e){return Object.keys(this.data)[e]},e}(),i="vk-ls-dummy",a="test";function s(){if(r)return r;try{if(window.localStorage.setItem(i,a),a!==window.localStorage.getItem(i))throw new Error("localStorage is broken");window.localStorage.removeItem(i),r=window.localStorage}catch(e){r=new o}return r}var u,c={setItem:function(e,t){return s().setItem(e,t)},getItem:function(e){return s().getItem(e)},removeItem:function(e){return s().removeItem(e)},clear:function(){return s().clear()},length:function(){return s().length},key:function(e){return s().key(e)},keys:function(){var e=s();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return c.keys().filter((function(t){return t.startsWith(e)}))}};function l(){if(u)return u;try{if(window.sessionStorage.setItem(i,a),a!==window.sessionStorage.getItem(i))throw new Error("sessionStorage is broken");window.sessionStorage.removeItem(i),u=window.sessionStorage}catch(e){u=new o}return u}var _={setItem:function(e,t){return l().setItem(e,t)},getItem:function(e){return l().getItem(e)},removeItem:function(e){return l().removeItem(e)},clear:function(){return l().clear()},length:function(){return l().length},key:function(e){return l().key(e)},keys:function(){var e=l();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return _.keys().filter((function(t){return t.startsWith(e)}))}}},27067:function(e,t,n){"use strict";n.d(t,{saveStats:function(){return v}});var r,o=n(97316),i=n(36726),a=n(37607),s=n(42604),u=n(14561),c=n(2013),l=n(35004),_=1e4,d=0,f=function(){return d*_},m=function(){return!(Date.now()-(0,i.getLastSendTime)()>45e3+f())},g=function(){return r=void 0},p=function(){!0!==r&&(clearTimeout(r),r=window.setTimeout((function(){var e=(0,i.getWebStatDataLs)();g(),e.length>i.emptyStatsDataLs.length&&v(e)}),Math.max(_,(0,i.getLastSendTime)()+45e3-Date.now()+f())))};function v(e,t){var n=e.length>=s.MAX_BODY_SIZE,f=(null==t?void 0:t.force)||n;return!f&&(r||m()||e.length<=i.emptyStatsDataLs.length)?((0,a.logWebStatsEvent)("WebStats delayed.",r),p()):(r=!0,function(e,t){var n=function(t){return setTimeout((function(){return e()}),t)};return(null==t?void 0:t.force)?n(0):window.requestIdleCallback((function(){return n(_)}),{timeout:5e3})}((function(){var e=(0,i.getWebStatDataLs)();if(f||!0===r&&!m()&&e.length>i.emptyStatsDataLs.length)return(0,i.setLastSendTime)(),function(e){var t=window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),n=e.length>s.MAX_BODY_SIZE,r=n?(0,l.getMaximumWebStats)(e):e,o=!1;if(!r)return g(),(0,i.clearLsData)();var a=new XMLHttpRequest;a.withCredentials=t.includes("tau.vk.com"),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var t=Date.now();a.status<500&&(n&&200===a.status?Object.keys((0,i.getEmptyStatsData)()).forEach((function(e){return(0,u.pullFromWebStats)(e,r)})):(0,i.clearLsData)(),d=0,o=!0),(n||400===a.status)&&(0,s.logProcessingTime)(Date.now()-t,(n?"prune":"clean")+(400===a.status?"-fail":""),(e.length>>>20)+"M "+(r.length>>>20)+"M"),g(),p()}},a.onerror=function(){return!o&&(0,i.clearLsData)()},a.open("POST",t,!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send((0,c.pruneRequestFromStuckErrors)((0,s.appendStatsMeta)(++d,r)))}(e);clearTimeout(Number(r)),g(),p()}),(0,o.__assign)((0,o.__assign)({},t),{force:f})))}},35004:function(e,t,n){"use strict";n.d(t,{getMaximumWebStats:function(){return a}});var r=n(97316),o=n(36726),i=n(42604),a=function(e){var t=Date.now(),n=function(e){return"{"+(null==e?void 0:e.map((function(e){var t=(0,r.__read)(e,2);return'"'+t[0]+'":'+t[1]})).join(","))+"}"},a=(0,r.__read)(Object.keys((0,o.getEmptyStatsData)()).reduce((function(t,n){var i=(0,o.getWebStatsStringValue)(n,e);return"[]"===i?t:(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t)),[[n,i]])}),[]).sort((function(e,t){var n=(0,r.__read)(e,2)[1];return(0,r.__read)(t,2)[1].length-n.length})).reduce((function(e,t){var o=(0,r.__read)(e,2),a=o[0],s=o[1],u=(0,r.__read)(t,2),c=u[0],l=u[1],_=[[c,l]];return l.length+n(a).length<i.MAX_BODY_SIZE?[a.concat(_),s]:[a,s.concat(_)]}),[[],[]]),2),s=a[0],u=a[1],c=n(s);if((0,i.logProcessingTime)(Date.now()-t,"chunk"),Date.now()-t<500&&u[0]&&c.length<.1*i.MAX_BODY_SIZE){var l=Date.now();try{var _=function(e,t){var n=(0,r.__read)(t,2),o=n[0],a=n[1],s='{"'+o+'":['+JSON.parse(a).reduce((function(t,n,r){return t.length<i.MAX_BODY_SIZE-e.length?t+(0===r?"":",")+JSON.stringify(n):t}),"")+"]}";return"{}"===e?s:(0,i.concatJSONS)(e,s)||e}(c,u.reverse()[0]);return(0,i.logProcessingTime)(Date.now()-l,"batch"),_}catch(e){return(0,i.logProcessingTime)(Date.now()-l,"batch-fail"),""}}return c}},24961:function(e,t,n){"use strict";n.d(t,{saveJsErrorLogs:function(){return r.saveJsErrorLogs},saveStatlogEvents:function(){return r.saveStatlogEvents},saveNetworkStats:function(){return r.saveNetworkStats},saveProductionStats:function(){return r.saveProductionStats}});var r=n(14561)},42604:function(e,t,n){"use strict";n.d(t,{MAX_BODY_SIZE:function(){return a},concatJSONS:function(){return u},appendStatsMeta:function(){return c},makeWebStatsRequest:function(){return l},logProcessingTime:function(){return _}});var r=n(97316),o=n(86900),i=n(2013),a=1.8*Math.pow(10,6),s=function(e){return e.startsWith("{")&&e.endsWith("}")},u=function(e,t){return[e,t].every(s)?e.slice(0,-1)+","+t.substring(1):"{}"},c=function(e,t){var n=window.vk,o=n.id,i=n.statsMeta,a=i.st,c=i.platform,l=(0,r.__rest)(i,["st","platform"]);return u(JSON.stringify({id:o,st:a,platform:c,attempt:e,signTime:l.time,sign:l.hash}),s(t)?t:"{}")},l=function(e,t){return e=e||window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),new Promise((function(n,r){var o=new XMLHttpRequest;o.open("POST",e),e.includes("tau.vk.com")&&(o.withCredentials=!0),o.onload=function(){return this.status>=200&&this.status<300?n(o.response):r({status:this.status,statusText:o.statusText})},o.onerror=function(){return r({status:this.status,statusText:o.statusText})},o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send((0,i.pruneRequestFromStuckErrors)("string"==typeof t?t:JSON.stringify(t)))}))};function _(e,t,n){(0,o.statlogsValueEvent)("web_stats_batching_time",e,window.vk.statsMeta.platform,t,n)}},14561:function(e,t,n){"use strict";n.d(t,{pullFromWebStats:function(){return l},saveJsErrorLogs:function(){return d},saveStatlogEvents:function(){return f},saveProductionStats:function(){return m},saveNetworkStats:function(){return g},saveStoryViewBaseStats:function(){return p},saveStoryViewStats:function(){return v},saveWebPerfStats:function(){return h}});var r=n(97316),o=n(36726),i=n(72135),a=n(37607),s=n(86353),u=n(27067),c=n(90302),l=function(e,t){var n=(0,o.getWebStatsStringValue)(e,t);if("[]"!==n){var r=(0,o.getWebStatDataLs)().replace(n.slice(1,-1),"").replace(/\[\,/,"[");(0,o.writeLocked)((function(){return c.vkLocalStorage.setItem(o.lsDataKey,r)}))}},_=function(e,t,n,r){if((0,s.partConfigEnabled)("batchify_web_stats")){var l=function(e,t){var n=(0,o.getWebStatsStringValue)(e);return(0,o.getWebStatDataLs)().replace('"'+e+'":'+n,'"'+e+'":'+n.replace(/]$/,("[]"===n?"":",")+JSON.stringify(t)+"]"))}(t,n);(0,o.writeLocked)((function(){return c.vkLocalStorage.setItem(o.lsDataKey,l)})),(0,u.saveStats)(l,r)}else(0,o.writeLocked)((function(){var e=(0,o.fetchDataFromLs)().webStatsData;e[t].push(n),(0,i.saveStats)(e)}));(0,a.logWebStatsEvent)(e,n)},d=function(e){return _("saveJsErrorLogs","jsErrorLogs",e)},f=function(e){var t=e.name,n=e.value,o=e.keys,i=(0,r.__spreadArray)([Math.round(Number(Date.now())/1e3),t,n],(0,r.__read)(o));return(0,s.partConfigEnabled)("web_stats_transport_debugger")&&console.log("Data was transformed!"),_("saveStatlogEvents","statlogEvents",i)},m=function(e,t){return _("saveProductionStats","productionStats",e,t)},g=function(e){return _("saveNetworkStats","networkStats",e)},p=function(e){return _("saveStoryViewStats","storyViewStats",e)},v=function(e){return p(e)},h=function(e){return _("saveWebPerfStats","webPerfStats",e)}},37607:function(e,t,n){"use strict";n.d(t,{logWebStatsEvent:function(){return o}});var r=n(86353);function o(e,t){(0,r.partConfigEnabled)("web_stats_transport_debugger")&&console.log("[new transport debug] "+e,t)}},36726:function(e,t,n){"use strict";n.d(t,{lsDataKey:function(){return a},getEmptyStatsData:function(){return c},emptyStatsDataLs:function(){return l},writeLocked:function(){return _},getWebStatDataLs:function(){return d},serializeDataToLs:function(){return f},getWebStatsStringValue:function(){return m},fetchDataFromLs:function(){return g},clearLsData:function(){return p},setLastSendTime:function(){return v},getLastSendTime:function(){return h},getWebStatsItemsCount:function(){return w}});var r=n(90302),o=n(37607),i=(0,n(36557).isMvk)()?"mvk":"web",a="XHR_STATS_TRANSPORT_DATA_"+i,s="XHR_STATS_TRANSPORT_META_"+i,u="XHR_STATS_TRANSPORT_DATA_LOCK_"+i,c=function(){return{jsErrorLogs:[],statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[]}},l=JSON.stringify(c());function _(e){if("locked"!==r.vkSessionStorage.getItem(u)){(0,o.logWebStatsEvent)("writeLocked","lock"),r.vkSessionStorage.setItem(u,"locked");try{e()}catch(e){}return(0,o.logWebStatsEvent)("writeLocked","free"),void r.vkSessionStorage.setItem(u,"free")}setTimeout((function(){return _(e)}),100)}var d=function(){return r.vkLocalStorage.getItem(a)||l},f=function(e){return r.vkLocalStorage.setItem(a,JSON.stringify(e))},m=function(e,t){var n;void 0===t&&(t=d());var r,o=Object.keys(c()).filter((function(t){return t!==e})).join("|"),i=(null===(n=null==t?void 0:t.match(new RegExp('"'+e+'":(\\[.*?\\])(?:,"('+o+')":\\[|}$)')))||void 0===n?void 0:n[1])||"";return(r=i).startsWith("[")&&r.endsWith("]")?i:"[]"};function g(){var e,t=!0;try{var n=d();if(!n)throw new Error("empty data");e=c();var r=JSON.parse(n);Object.keys(e).forEach((function(n){Array.isArray(r[n])&&(t=!1,e[n]=r[n])}))}catch(t){e=c()}return{webStatsData:e,isEmpty:t}}function p(e){e&&(0,o.logWebStatsEvent)("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),_((function(){return r.vkLocalStorage.setItem(a,"")}))}function v(e){void 0===e&&(e=Number(new Date)),r.vkSessionStorage.setItem(s,e.toString())}function h(){return parseInt(""+(r.vkSessionStorage.getItem(s)||0))}function w(e){return Object.values(e).reduce((function(e,t){return e+=t.length}),0)}},72135:function(e,t,n){"use strict";n.d(t,{saveStats:function(){return f}});var r,o=n(97316),i=n(36726),a=n(37607),s=n(86353),u=n(42604),c=6e4,l=12e4,_=1;function d(e){return!!(0,s.partConfigEnabled)("web_stats_send_on_events_limit")&&(1===_&&(0,i.getWebStatsItemsCount)(e)>300)}function f(e){var t=+new Date,n=(0,i.getLastSendTime)();0===n&&(n=t,(0,i.setLastSendTime)(n));var o,u=t-n,_=u/1e3,f=d(e);(0,a.logWebStatsEvent)("saveStats",{nowMs:t,lastTransferTimeMs:n,timePassed:_+"s",statsData:e}),(0,s.partConfigEnabled)("web_stats_debounce")?((0,i.serializeDataToLs)(e),o=function(e,t){return t?0:0===e||e>c?3e3:l}(u,f),window.clearTimeout(r),r=window.setTimeout((function(){return(0,i.writeLocked)((function(){var e=(0,i.fetchDataFromLs)().webStatsData,t=+new Date;g(e),(0,i.clearLsData)(),(0,i.setLastSendTime)(t)}))}),o)):u>c||f?(g(e),(0,i.clearLsData)(),(0,i.setLastSendTime)(t)):((0,i.serializeDataToLs)(e),window.setTimeout(m,l))}function m(){(0,i.writeLocked)((function(){var e=(0,i.fetchDataFromLs)(),t=e.webStatsData;e.isEmpty||f(t)}))}function g(e){(0,a.logWebStatsEvent)("send",e);var t=window.vk,n=t.id,r=t.wsTransport,s=t.statsMeta,c=r+(window.vk&&window.vk.statsMeta&&window.vk.statsMeta.st?"/web-stats/s":"/web-stats/p"),l=(0,o.__assign)((0,o.__assign)({},e),{id:n,st:s.st,platform:s.platform,signTime:s.time,sign:s.hash,attempt:_});(0,u.makeWebStatsRequest)(c,l).then((function(e){(0,a.logWebStatsEvent)("sendStats success",e),_=1})).catch((function(t){return _++,(0,i.writeLocked)((function(){(0,a.logWebStatsEvent)("sendStats try",_),f(e)})),(0,a.logWebStatsEvent)("sendStats error",t),!0})),(0,i.setLastSendTime)(+new Date)}}}]);