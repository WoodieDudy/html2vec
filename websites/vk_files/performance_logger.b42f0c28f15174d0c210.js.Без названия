(self.webpackChunkvk=self.webpackChunkvk||[]).push([[8448],{79958:function(t,e,n){"use strict";(0,n(97993).reportWebVitals)()},17999:function(t,e,n){"use strict";n.d(e,{rand:function(){return o},replaceEntities:function(){return E},isArray:function(){return s},isEmpty:function(){return l},isFunction:function(){return i},isFormData:function(){return a},isHttpHref:function(){return I},isObject:function(){return u},isString:function(){return c},isUndefined:function(){return r},irand:function(){return m},escapeAttr:function(){return d},escapeRE:function(){return _},escapeStr:function(){return g},each:function(){return h},htsc:function(){return f},copy:function(){return w},vkNow:function(){return C},unescapeAttr:function(){return v},utf2win:function(){return S},srand:function(){return T},stripTags:function(){return p},intval:function(){return y},vkImage:function(){return N},isElement:function(){return O}});var o=function(t,e){return Math.random()*(e-t+1)+t},r=function(t){return void 0===t},i=function(t){return t&&"[object Function]"===Object.prototype.toString.call(t)},a=function(t){return t&&"[object FormData]"===Object.prototype.toString.call(t)},c=function(t){return"string"==typeof t},s=function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=function(t){return"[object Object]"===Object.prototype.toString.call(t)},l=function(t){if(!u(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},_=function(t){return t?t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):""},f=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;")},d=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;")},v=function(t){return t.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'")},E=function(t){return ce("textarea",{innerHTML:(t||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}).value},g=function(t){return t.replace(/\'/g,"\\'")},p=function(t){return t.replace(/<[^>]+>/g,"")},T=function(){return Math.random().toString(36).substr(2)},m=function(t,e){return Math.floor(o(t,e))},S=function(t){return unescape(encodeURIComponent(t))};function I(t){var e=(t+"").split(":"),n=e[1]&&e[0]?e[0]+":":location.protocol;return"http:"===n||"https:"===n}var C=function(){return+new Date};function y(t){return!0===t?1:parseInt(t)||0}function h(t,e){if(!t)return t;if(u(t)||void 0===t.length){for(var n in t)if(t.hasOwnProperty(n)&&!1===e.call(t[n],n,t[n]))break}else for(var o=0,r=t.length;o<r;o++){var i=t[o];if(!1===e.call(i,o,i))break}return t}function w(t){return s(t)?t.concat([]):u(t)?extend({},t):t}var N=function(){return window.Image?new Image:ce("img")},O=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}},28397:function(t,e,n){"use strict";n.d(e,{log:function(){return i},error:function(){return a}});var o=n(86353);function r(){return window.console&&(0,o.partConfigEnabled)("js_console_logs")}function i(){var t;r()&&(window.console.log&&(t=window.console).log.apply(t,arguments))}function a(){var t;r()&&(window.console.error?(t=window.console).error.apply(t,arguments):i.apply(void 0,arguments))}},27813:function(t,e,n){"use strict";n.d(e,{getCookie:function(){return i},setCookie:function(){return a}});var o=n(86353),r=n(86900);function i(t){return function(){window._cookies={};for(var t=document.cookie.split(";"),e=/^[\s]*([^\s]+?)$/i,n=0,o=t.length;n<o;n++){var r=t[n].split("=");2===r.length&&(_cookies[r[0].match(e)[1]]=unescape(r[1].match(e)?r[1].match(e)[1]:""))}}(),"https:"!==location.protocol&&(0,r.statlogsValueEvent)("read_unsecure_cookie",t,location.href),_cookies[t]}function a(t,e,n,r,i,a,c){void 0===i&&(i="None"),void 0===a&&(a=window.locDomain),void 0===c&&(c={});var s=t+"="+escape(e),u=c.withoutSubdomains?".":"",l="; path=/"+(a?"; domain="+u+a:""),_="https:"===location.protocol,f=!!r;(0,o.partConfigEnabled)("cookie_secure_default_true")&&(f=!1!==r);var d=_&&f?"; secure":"",v=f&&browser.chrome&&parseInt(browser.version)>=71&&(0,o.partConfigEnabled)("cookie_class_samesite")?"; SameSite="+i:"",E="";if(n){var g=new Date;g.setTime(g.getTime()+24*n*60*60*1e3),E="; expires="+g.toGMTString()}document.cookie=s+E+l+v+d}},51988:function(t,e,n){"use strict";var o=n(90302);function r(t){try{o.vkLocalStorage.removeItem(t)}catch(t){}}e.default={checkVersion:function(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(t){return!1}},remove:r,get:function(t){try{return JSON.parse(o.vkLocalStorage.getItem(t))}catch(t){return!1}},set:function(t,e){r(t);try{return o.vkLocalStorage.setItem(t,JSON.stringify(e))}catch(t){return!1}}}},63705:function(t,e){"use strict";function n(){return navigator.connection||navigator.mozConnection||navigator.webkitConnection}function o(){var t=n();return t&&t.type||"unknown"}function r(){var t=n();return t&&t.effectiveType||"unknown"}e.default={getConnection:n,getConnectionType:o,getConnectionEffectiveType:r,getConnectionTypeID:function(){return{unknown:0,bluetooth:1,cellular:2,ethernet:3,none:4,wifi:5,wimax:6,other:7}[o()]||0},getConnectionEffectiveTypeID:function(){return{unknown:0,"slow-2g":1,"2g":2,"3g":3,"4g":4}[r()]||0}}},86900:function(t,e,n){"use strict";n.d(e,{statlogsValueEvent:function(){return u}});var o,r,i=n(27813),a=n(36557),c=n(17999),s=n(51988);function u(t,e){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s;void 0!==t&&void 0!==e&&l((function(){try{s=(s=JSON.parse((0,i.getCookie)(r))).data}catch(t){s=[]}s.push([Math.round(Date.now()/1e3),t,e].concat(o)),s=s.slice(s.length-100);var n=Math.round((0,c.rand)(0,1e9));(0,i.setCookie)(r,JSON.stringify({data:s,uniqueId:n}),.01)}))}function l(t,e){if(s.default.checkVersion()){if(!0!==s.default.get(o)){s.default.set(o,!0);try{t()}catch(t){}return void s.default.set(o,!1)}e||setTimeout((function(){return l(t,!0)}),100)}else t()}(0,a.isMvk)()?(o="lock_m_stats_cookie_lock",r="remixmsts"):(o="lockkk_stats_cookie_lock",r="remixsts")},86353:function(t,e,n){"use strict";n.d(e,{randEnabled:function(){return r},partConfigEnabled:function(){return i},calculateTimeOffsets:function(){return a}});var o=n(27813);function r(t){return Math.random()<t}function i(t){var e=(window.vk||{}).pe;return!!(void 0===e?{}:e)[t]}function a(){var t=window.vk.ts;if(t&&!window.browser.opera_mobile){var e=new Date,n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())/1e3-t;n-=10800,n=(n/=60).toFixed(0),(n*=60)<-55800?n+=86400:n>37800&&(n-=86400);var r=0,i=Math.abs(n);[-12,-11,-10,-9.5,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2,-1,0,1,2,3,3.5,4,4.5,5,5.5,5.75,6,6.5,7,8,8.75,9,9.5,10,10.5,11,12,12.75,13,14].forEach((function(t){var e=Math.round(3600*(t-3)),o=Math.abs(n-e);o<i&&(i=o,r=e)}));var a=(0,o.getCookie)("remixdt");return void 0!==a&&intval(a)===r||(0,o.setCookie)("remixdt",r,365),r}return 0}},89722:function(t,e,n){"use strict";n.d(e,{logError:function(){return i},logEvalError:function(){return a}});var o=n(98609),r=n(85124);function i(t,e){if(void 0===e&&(e={}),null===window||void 0===window?void 0:window.Raven){var n=e.breadcrumb,i=e.environment;n&&window.Raven.captureBreadcrumb({message:n.message,category:r.customBreadcrumbCategory,data:n.data}),i?window.Raven.captureException(t,{environment:i}):window.Raven.captureException(t),(0,o.logError)(t,e)}}function a(t,e){window.Raven&&(e&&e.length>2e3&&(e=e.slice(0,1e3)+"..."+e.slice(-1e3)),t.message+=": "+e,i(t))}},2013:function(t,e,n){"use strict";n.d(e,{isStuckError:function(){return E},pruneRequestFromStuckErrors:function(){return g}});var o,r,i=n(97316),a=n(86353),c=n(36726),s=n(42604),u="mvk"===(null===(r=null===(o=window.vk)||void 0===o?void 0:o.statsMeta)||void 0===r?void 0:r.platform)&&(0,a.partConfigEnabled)("mute_mvk_err_peaks"),l=n(61686),_=10,f=u&&l(_),d=u&&l(_,5e3),v=function(t){var e=t.value,n=t.stacktrace,o=t.file,r=t.page;return[e,n.join(""),o,r].join("_")},E=function(t){if(!u||!d||!f)return!1;var e=v(t),n=(0,i.__read)([f.get(e)||0,d.get(e)||0],2),o=n[0],r=n[1];return f.set(e,++o),d.set(e,++r),r>=_||o>=50},g=u?function(t){var e,n,o=Date.now(),r="jsErrorLogs",a=(0,c.getWebStatsStringValue)(r,t);if(((null===(e=a.match(new RegExp("},{","g")))||void 0===e?void 0:e.length)||0)<_)return t;try{n=JSON.parse(a)}catch(t){(0,s.logProcessingTime)(1,"dedupe-fail")}if(!n)return t;var u=Object.values(n.reduce((function(t,e){var n,o=v(e),r=t[o]||[];return(0,i.__assign)((0,i.__assign)({},t),((n={})[o]=r.length<_?r.concat(e):r,n))}),{})),l=t.replace('"jsErrorLogs":'+a,'"jsErrorLogs":'+JSON.stringify([].concat.apply([],u))),f=Date.now()-o;return f>16&&(0,s.logProcessingTime)(f,"dedupe"),l}:function(t){return t}},11386:function(t,e,n){"use strict";n.d(e,{prepareError:function(){return o.prepareError},getRavenXhrTransport:function(){return r.getRavenXhrTransport},logError:function(){return i.logError},logEvalError:function(){return i.logEvalError}});var o=n(20066),r=n(1479),i=n(89722)},20066:function(t,e,n){"use strict";function o(t,e){var n=t.exception&&t.exception.values[0]||{type:"Message",value:t.message+r(t),stacktrace:t.stacktrace||{frames:[]}};"Error"===n.type&&n.value.startsWith("Non-Error exception captured with keys:")&&(n.value+=r(t)),!n.value&&t.message&&(n.value=t.message);var o=n.type,c=n.value,s=n.stacktrace,u=window.location,l=u.origin,_=u.protocol,f=u.hostname,d=u.port,v=u.href;d=d?":"+d:"",l=l||_+"//"+f+d;var E=t.environment,g=t.transaction,p=t.breadcrumbs;return{id:t.event_id,module:E||e(g,s,c),type:o,value:c,file:g,breadcrumbs:i(p),stacktrace:a(s,l),page:v,release:window.vk.rv,time:window.vk.ts+Math.floor(((new Date).getTime()-window.vk.started)/1e3)}}function r(t){return t.extra&&t.extra.__serialized__?"\n"+JSON.stringify(t.extra.__serialized__).slice(0,500):""}function i(t){if(!t||!t.values||0===t.values.length)return"";var e=t.values[0],n=e.data,o=e.category,r=e.message;return"xhr"===o?n.method+":"+n.status_code+":"+n.url:"custom"===o?r+":"+JSON.stringify(n):""}function a(t,e){var n=[];return t.frames.forEach((function(t,o){0===o&&(t.filename.includes("raven_logger.js")||t.filename.includes("raven.js"))||n.push(t.filename.replace(e,"")+":"+t.lineno+":"+t.colno+":"+t.function)})),n}n.d(e,{prepareError:function(){return o}})},1479:function(t,e,n){"use strict";n.d(e,{getRavenXhrTransport:function(){return i}});var o=n(24961),r=n(2013),i=function(t){return function(e){var n=e.data,i=e.onSuccess,a=t(n);!(0,r.isStuckError)(a)&&(0,o.saveJsErrorLogs)(a),i()}}},85124:function(t,e,n){"use strict";n.d(e,{filenameToVkModule:function(){return r},commonIgnoreErrors:function(){return i},PROTECTED_MODULE_NAME_TAG:function(){return a},customBreadcrumbCategory:function(){return c},anonymousName:function(){return s},nativeCode:function(){return u}});var o=n(95132),r={"bundles/fastchat_reforged":"messenger","bundles/audioplayer":"audioplayer","web/imn":"im","web/stories":"stories","web/notifier":"notifier","web/videoplayer":"videoplayer","web/article":"articles","web/calls":"calls"},i=[/^AbortError:/],a="__protectedModuleName",c="custom",s=(0,o.getFunctionName)(void 0),u="[native code]"},98609:function(t,e,n){"use strict";n.d(e,{logError:function(){return r}});var o=n(85124);function r(t,e){var n,r=void 0===e?{}:e,i=r.breadcrumb,a=r.environment,c=void 0===a?null===(n=null===window||void 0===window?void 0:window.cur)||void 0===n?void 0:n.module:a,s=r.hasDummyStacktrace;if(null===window||void 0===window?void 0:window.Sentry)return s&&"object"==typeof t&&(null==t?void 0:t.stack)&&delete t.stack,window.Sentry.captureException(t,(function(t){var e;return c&&t.setTags(((e={module:c})[o.PROTECTED_MODULE_NAME_TAG]=!0,e)),i&&t.addBreadcrumb({message:i.message,category:o.customBreadcrumbCategory,data:i.data}),t}))}},36557:function(t,e,n){"use strict";n.d(e,{isMvk:function(){return r},getVideoDuration:function(){return i},getMediaBlob:function(){return a},getBlobType:function(){return c},noop:function(){return s},getAverageRGB:function(){return u},loadVideo:function(){return l},getPhotoFromVideo:function(){return _},loadImage:function(){return f},loadImages:function(){return d},loadFontFacePromise:function(){return E},getCroppedImage:function(){return g}});var o=n(97316);function r(){return!!window.isMVK}function i(t){return void 0===t&&(t=""),new Promise((function(e,n){var o=document.createElement("video");o.addEventListener("loadedmetadata",(function(){return e(o.duration)}),{once:!0}),o.addEventListener("error",n,{once:!0}),o.crossOrigin="anonymous",o.preload="metadata",o.src=t}))}function a(t){return new Promise((function(e,n){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){if(404===o.response.status)return n();e(o.response)},o.onerror=n,o.send()}))}function c(t){try{return t.type.split("/").splice(-1)[0]}catch(t){return null}}var s=function(){};function u(t,e,n,o,r){void 0===e&&(e=0),void 0===n&&(n=0);var i,a={r:0,g:0,b:0};o=o||t.canvas.width,r=r||t.canvas.height;try{i=t.getImageData(e,n,o,r)}catch(t){return a}for(var c=-4,s=0;(c+=20)<i.data.length;)++s,a.r+=i.data[c],a.g+=i.data[c+1],a.b+=i.data[c+2];return a.r=~~(a.r/s),a.g=~~(a.g/s),a.b=~~(a.b/s),a}function l(t){return new Promise((function(e,n){var o=document.createElement("video");o.muted=!0,o.autoplay=!0,o.addEventListener("canplay",(function(){o.pause(),e(o)}),{once:!0}),o.addEventListener("error",n,{once:!0}),o.crossOrigin="anonymous",o.src=t}))}function _(t,e){void 0===e&&(e=[0]);var n=[];return new Promise((function(o,r){var i=document.createElement("canvas"),a=i.getContext("2d"),c=t.videoWidth,s=t.videoHeight;i.width=c,i.height=s,function u(l){var _=t.currentTime;t.addEventListener("seeked",(function(){null==a||a.drawImage(t,0,0,c,s,0,0,c,s),t.currentTime=_,f(i.toDataURL("image/jpeg",1)).then((function(r){n.push(r),l>=e.length-1?(t.src="",o(n)):u(l+1)})).catch(r)}),{once:!0}),t.currentTime=-1===e[l]?t.duration:e[l]}(0)}))}function f(t){return new Promise((function(e,n){var o=new Image;o.crossOrigin=t.startsWith("data:")?null:"Anonymous",o.onerror=function(){return n(new Error("Failed to load image's URL: "+t))},o.onload=function(){return e(o)},o.src=t}))}var d=function(t){return new Promise((function(e){var n=t.map((function(t){return f(t)}));Promise.all(n).then((function(t){return e(t)})).catch((function(){}))}))};function v(t,e){var n,o,r,i,a,c,s,u,l={normal:"400",500:"500",600:"600",bold:"700"},_={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},f={display:"block","font-size":"48px","line-height":"normal","font-variant":"normal","white-space":"nowrap",position:"absolute",visibility:"hidden",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0"};function d(t){var e=[];return each(t,(function(t,n){e.push(t+":"+n)})),e.join(";")}function v(t,e,n){return Math.abs(t.width-e.offsetWidth)>n||Math.abs(t.height-e.offsetHeight)>n}function E(){i||(utilsNode.appendChild(a),i=!0,r={sansSerif:{width:s.offsetWidth,height:s.offsetHeight},serif:{width:c.offsetWidth,height:c.offsetHeight}},browser.opera&&!browser.chrome?(s.style.fontFamily='"'+t+'", sans-serif',c.style.fontFamily='"'+t+'", serif'):(setStyle(s,"font-family",'"'+t+'", sans-serif'),setStyle(c,"font-family",'"'+t+'", serif'))),i&&r&&(v(r.sansSerif,s,e.tolerance)||v(r.serif,c,e.tolerance))?(re(a),e.success()):(new Date).getTime()-o.getTime()>e.timeout?(re(a),e.error()):!i&&"requestAnimationFrame"in window?window.requestAnimationFrame(E):window.setTimeout(E,e.delay)}for(var g in _)e.hasOwnProperty(g)||(e[g]=_[g]);f["font-weight"]=e.weight,f["font-style"]=e.style,!e.glyphs&&"fonts"in document?(e.timeout&&(n=setTimeout((function(){e.error()}),e.timeout)),function(n){each(null===document||void 0===document?void 0:document.fonts,(function(o){o.family.toLowerCase()===t.toLowerCase()&&(l[o.weight]||o.weight)===""+e.weight&&o.style===e.style&&o.load().then((function(){e.success(),clearTimeout(n)}))}))}(n)):(u="AxmTYklsjo190QW"+e.glyphs,o=new Date,a=ce("div"),s=ce("div",{innerHTML:u}),c=ce("div",{innerHTML:u}),s.setAttribute("style",d(extend({"font-family":"sans-serif"},f))),c.setAttribute("style",d(extend({"font-family":"serif"},f))),a.appendChild(s),a.appendChild(c),E())}function E(t,e){return new Promise((function(n,r){v(t,(0,o.__assign)((0,o.__assign)({},e),{glyphs:"",success:function(){var t=function(){n(),(null==e?void 0:e.success)&&e.success()};browser.safari?setTimeout(t,150):t()},error:function(){r(),(null==e?void 0:e.error)&&e.error()}}))}))}function g(t,e,n,o,r,i){return void 0===i&&(i=0),new Promise((function(a,c){("string"==typeof t?f(t):Promise.resolve(t)).then((function(t){var s=document.createElement("canvas");s.width=90===i||270===i?t.naturalHeight:t.naturalWidth,s.height=90===i||270===i?t.naturalWidth:t.naturalHeight;var u=s.getContext("2d");if(u){u.fillStyle="#fff",u.fillRect(0,0,u.canvas.width,u.canvas.height),i?(u.translate(s.width/2,s.height/2),u.rotate(i*Math.PI/180),u.drawImage(t,-t.naturalWidth/2,-t.naturalHeight/2)):u.drawImage(t,0,0);var l=u.getImageData(e,n,o,r),_=document.createElement("canvas");_.width=o,_.height=r;var d=_.getContext("2d");if(d)return d.putImageData(l,0,0),f(_.toDataURL("image/jpeg",1)).then(a).catch(c);a(t)}else a(t)})).catch(c)}))}},90302:function(t,e,n){"use strict";n.d(e,{vkLocalStorage:function(){return u},vkSessionStorage:function(){return _}});var o,r=function(){function t(){var t=this;this.data={},this.getItem=function(e){return t.data.hasOwnProperty(e)?t.data[e]:null},this.keys=function(){return Object.keys(t.data)}}return t.prototype.setItem=function(t,e){this.data[t]=String(e)},t.prototype.removeItem=function(t){delete this.data[t]},t.prototype.clear=function(){this.data={}},Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.data).length},enumerable:!1,configurable:!0}),t.prototype.key=function(t){return Object.keys(this.data)[t]},t}(),i="vk-ls-dummy",a="test";function c(){if(o)return o;try{if(window.localStorage.setItem(i,a),a!==window.localStorage.getItem(i))throw new Error("localStorage is broken");window.localStorage.removeItem(i),o=window.localStorage}catch(t){o=new r}return o}var s,u={setItem:function(t,e){return c().setItem(t,e)},getItem:function(t){return c().getItem(t)},removeItem:function(t){return c().removeItem(t)},clear:function(){return c().clear()},length:function(){return c().length},key:function(t){return c().key(t)},keys:function(){var t=c();return t instanceof r?t.keys():Object.keys(t)},getPrefixedKeys:function(t){return u.keys().filter((function(e){return e.startsWith(t)}))}};function l(){if(s)return s;try{if(window.sessionStorage.setItem(i,a),a!==window.sessionStorage.getItem(i))throw new Error("sessionStorage is broken");window.sessionStorage.removeItem(i),s=window.sessionStorage}catch(t){s=new r}return s}var _={setItem:function(t,e){return l().setItem(t,e)},getItem:function(t){return l().getItem(t)},removeItem:function(t){return l().removeItem(t)},clear:function(){return l().clear()},length:function(){return l().length},key:function(t){return l().key(t)},keys:function(){var t=l();return t instanceof r?t.keys():Object.keys(t)},getPrefixedKeys:function(t){return _.keys().filter((function(e){return e.startsWith(t)}))}}},27067:function(t,e,n){"use strict";n.d(e,{saveStats:function(){return p}});var o,r=n(97316),i=n(36726),a=n(37607),c=n(42604),s=n(14561),u=n(2013),l=n(35004),_=1e4,f=0,d=function(){return f*_},v=function(){return!(Date.now()-(0,i.getLastSendTime)()>45e3+d())},E=function(){return o=void 0},g=function(){!0!==o&&(clearTimeout(o),o=window.setTimeout((function(){var t=(0,i.getWebStatDataLs)();E(),t.length>i.emptyStatsDataLs.length&&p(t)}),Math.max(_,(0,i.getLastSendTime)()+45e3-Date.now()+d())))};function p(t,e){var n=t.length>=c.MAX_BODY_SIZE,d=(null==e?void 0:e.force)||n;return!d&&(o||v()||t.length<=i.emptyStatsDataLs.length)?((0,a.logWebStatsEvent)("WebStats delayed.",o),g()):(o=!0,function(t,e){var n=function(e){return setTimeout((function(){return t()}),e)};return(null==e?void 0:e.force)?n(0):window.requestIdleCallback((function(){return n(_)}),{timeout:5e3})}((function(){var t=(0,i.getWebStatDataLs)();if(d||!0===o&&!v()&&t.length>i.emptyStatsDataLs.length)return(0,i.setLastSendTime)(),function(t){var e=window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),n=t.length>c.MAX_BODY_SIZE,o=n?(0,l.getMaximumWebStats)(t):t,r=!1;if(!o)return E(),(0,i.clearLsData)();var a=new XMLHttpRequest;a.withCredentials=e.includes("tau.vk.com"),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var e=Date.now();a.status<500&&(n&&200===a.status?Object.keys((0,i.getEmptyStatsData)()).forEach((function(t){return(0,s.pullFromWebStats)(t,o)})):(0,i.clearLsData)(),f=0,r=!0),(n||400===a.status)&&(0,c.logProcessingTime)(Date.now()-e,(n?"prune":"clean")+(400===a.status?"-fail":""),(t.length>>>20)+"M "+(o.length>>>20)+"M"),E(),g()}},a.onerror=function(){return!r&&(0,i.clearLsData)()},a.open("POST",e,!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send((0,u.pruneRequestFromStuckErrors)((0,c.appendStatsMeta)(++f,o)))}(t);clearTimeout(Number(o)),E(),g()}),(0,r.__assign)((0,r.__assign)({},e),{force:d})))}},35004:function(t,e,n){"use strict";n.d(e,{getMaximumWebStats:function(){return a}});var o=n(97316),r=n(36726),i=n(42604),a=function(t){var e=Date.now(),n=function(t){return"{"+(null==t?void 0:t.map((function(t){var e=(0,o.__read)(t,2);return'"'+e[0]+'":'+e[1]})).join(","))+"}"},a=(0,o.__read)(Object.keys((0,r.getEmptyStatsData)()).reduce((function(e,n){var i=(0,r.getWebStatsStringValue)(n,t);return"[]"===i?e:(0,o.__spreadArray)((0,o.__spreadArray)([],(0,o.__read)(e)),[[n,i]])}),[]).sort((function(t,e){var n=(0,o.__read)(t,2)[1];return(0,o.__read)(e,2)[1].length-n.length})).reduce((function(t,e){var r=(0,o.__read)(t,2),a=r[0],c=r[1],s=(0,o.__read)(e,2),u=s[0],l=s[1],_=[[u,l]];return l.length+n(a).length<i.MAX_BODY_SIZE?[a.concat(_),c]:[a,c.concat(_)]}),[[],[]]),2),c=a[0],s=a[1],u=n(c);if((0,i.logProcessingTime)(Date.now()-e,"chunk"),Date.now()-e<500&&s[0]&&u.length<.1*i.MAX_BODY_SIZE){var l=Date.now();try{var _=function(t,e){var n=(0,o.__read)(e,2),r=n[0],a=n[1],c='{"'+r+'":['+JSON.parse(a).reduce((function(e,n,o){return e.length<i.MAX_BODY_SIZE-t.length?e+(0===o?"":",")+JSON.stringify(n):e}),"")+"]}";return"{}"===t?c:(0,i.concatJSONS)(t,c)||t}(u,s.reverse()[0]);return(0,i.logProcessingTime)(Date.now()-l,"batch"),_}catch(t){return(0,i.logProcessingTime)(Date.now()-l,"batch-fail"),""}}return u}},24961:function(t,e,n){"use strict";n.d(e,{saveJsErrorLogs:function(){return o.saveJsErrorLogs},saveStatlogEvents:function(){return o.saveStatlogEvents},saveNetworkStats:function(){return o.saveNetworkStats},saveProductionStats:function(){return o.saveProductionStats}});var o=n(14561)},42604:function(t,e,n){"use strict";n.d(e,{MAX_BODY_SIZE:function(){return a},concatJSONS:function(){return s},appendStatsMeta:function(){return u},makeWebStatsRequest:function(){return l},logProcessingTime:function(){return _}});var o=n(97316),r=n(86900),i=n(2013),a=1.8*Math.pow(10,6),c=function(t){return t.startsWith("{")&&t.endsWith("}")},s=function(t,e){return[t,e].every(c)?t.slice(0,-1)+","+e.substring(1):"{}"},u=function(t,e){var n=window.vk,r=n.id,i=n.statsMeta,a=i.st,u=i.platform,l=(0,o.__rest)(i,["st","platform"]);return s(JSON.stringify({id:r,st:a,platform:u,attempt:t,signTime:l.time,sign:l.hash}),c(e)?e:"{}")},l=function(t,e){return t=t||window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),new Promise((function(n,o){var r=new XMLHttpRequest;r.open("POST",t),t.includes("tau.vk.com")&&(r.withCredentials=!0),r.onload=function(){return this.status>=200&&this.status<300?n(r.response):o({status:this.status,statusText:r.statusText})},r.onerror=function(){return o({status:this.status,statusText:r.statusText})},r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.send((0,i.pruneRequestFromStuckErrors)("string"==typeof e?e:JSON.stringify(e)))}))};function _(t,e,n){(0,r.statlogsValueEvent)("web_stats_batching_time",t,window.vk.statsMeta.platform,e,n)}},14561:function(t,e,n){"use strict";n.d(e,{pullFromWebStats:function(){return l},saveJsErrorLogs:function(){return f},saveStatlogEvents:function(){return d},saveProductionStats:function(){return v},saveNetworkStats:function(){return E},saveStoryViewBaseStats:function(){return g},saveStoryViewStats:function(){return p},saveWebPerfStats:function(){return T}});var o=n(97316),r=n(36726),i=n(72135),a=n(37607),c=n(86353),s=n(27067),u=n(90302),l=function(t,e){var n=(0,r.getWebStatsStringValue)(t,e);if("[]"!==n){var o=(0,r.getWebStatDataLs)().replace(n.slice(1,-1),"").replace(/\[\,/,"[");(0,r.writeLocked)((function(){return u.vkLocalStorage.setItem(r.lsDataKey,o)}))}},_=function(t,e,n,o){if((0,c.partConfigEnabled)("batchify_web_stats")){var l=function(t,e){var n=(0,r.getWebStatsStringValue)(t);return(0,r.getWebStatDataLs)().replace('"'+t+'":'+n,'"'+t+'":'+n.replace(/]$/,("[]"===n?"":",")+JSON.stringify(e)+"]"))}(e,n);(0,r.writeLocked)((function(){return u.vkLocalStorage.setItem(r.lsDataKey,l)})),(0,s.saveStats)(l,o)}else(0,r.writeLocked)((function(){var t=(0,r.fetchDataFromLs)().webStatsData;t[e].push(n),(0,i.saveStats)(t)}));(0,a.logWebStatsEvent)(t,n)},f=function(t){return _("saveJsErrorLogs","jsErrorLogs",t)},d=function(t){var e=t.name,n=t.value,r=t.keys,i=(0,o.__spreadArray)([Math.round(Number(Date.now())/1e3),e,n],(0,o.__read)(r));return(0,c.partConfigEnabled)("web_stats_transport_debugger")&&console.log("Data was transformed!"),_("saveStatlogEvents","statlogEvents",i)},v=function(t,e){return _("saveProductionStats","productionStats",t,e)},E=function(t){return _("saveNetworkStats","networkStats",t)},g=function(t){return _("saveStoryViewStats","storyViewStats",t)},p=function(t){return g(t)},T=function(t){return _("saveWebPerfStats","webPerfStats",t)}},37607:function(t,e,n){"use strict";n.d(e,{logWebStatsEvent:function(){return r}});var o=n(86353);function r(t,e){(0,o.partConfigEnabled)("web_stats_transport_debugger")&&console.log("[new transport debug] "+t,e)}},36726:function(t,e,n){"use strict";n.d(e,{lsDataKey:function(){return a},getEmptyStatsData:function(){return u},emptyStatsDataLs:function(){return l},writeLocked:function(){return _},getWebStatDataLs:function(){return f},serializeDataToLs:function(){return d},getWebStatsStringValue:function(){return v},fetchDataFromLs:function(){return E},clearLsData:function(){return g},setLastSendTime:function(){return p},getLastSendTime:function(){return T},getWebStatsItemsCount:function(){return m}});var o=n(90302),r=n(37607),i=(0,n(36557).isMvk)()?"mvk":"web",a="XHR_STATS_TRANSPORT_DATA_"+i,c="XHR_STATS_TRANSPORT_META_"+i,s="XHR_STATS_TRANSPORT_DATA_LOCK_"+i,u=function(){return{jsErrorLogs:[],statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[]}},l=JSON.stringify(u());function _(t){if("locked"!==o.vkSessionStorage.getItem(s)){(0,r.logWebStatsEvent)("writeLocked","lock"),o.vkSessionStorage.setItem(s,"locked");try{t()}catch(t){}return(0,r.logWebStatsEvent)("writeLocked","free"),void o.vkSessionStorage.setItem(s,"free")}setTimeout((function(){return _(t)}),100)}var f=function(){return o.vkLocalStorage.getItem(a)||l},d=function(t){return o.vkLocalStorage.setItem(a,JSON.stringify(t))},v=function(t,e){var n;void 0===e&&(e=f());var o,r=Object.keys(u()).filter((function(e){return e!==t})).join("|"),i=(null===(n=null==e?void 0:e.match(new RegExp('"'+t+'":(\\[.*?\\])(?:,"('+r+')":\\[|}$)')))||void 0===n?void 0:n[1])||"";return(o=i).startsWith("[")&&o.endsWith("]")?i:"[]"};function E(){var t,e=!0;try{var n=f();if(!n)throw new Error("empty data");t=u();var o=JSON.parse(n);Object.keys(t).forEach((function(n){Array.isArray(o[n])&&(e=!1,t[n]=o[n])}))}catch(e){t=u()}return{webStatsData:t,isEmpty:e}}function g(t){t&&(0,r.logWebStatsEvent)("WebStats cleared. "+(t?"Reason: LS is broken.":""),t),_((function(){return o.vkLocalStorage.setItem(a,"")}))}function p(t){void 0===t&&(t=Number(new Date)),o.vkSessionStorage.setItem(c,t.toString())}function T(){return parseInt(""+(o.vkSessionStorage.getItem(c)||0))}function m(t){return Object.values(t).reduce((function(t,e){return t+=e.length}),0)}},72135:function(t,e,n){"use strict";n.d(e,{saveStats:function(){return d}});var o,r=n(97316),i=n(36726),a=n(37607),c=n(86353),s=n(42604),u=6e4,l=12e4,_=1;function f(t){return!!(0,c.partConfigEnabled)("web_stats_send_on_events_limit")&&(1===_&&(0,i.getWebStatsItemsCount)(t)>300)}function d(t){var e=+new Date,n=(0,i.getLastSendTime)();0===n&&(n=e,(0,i.setLastSendTime)(n));var r,s=e-n,_=s/1e3,d=f(t);(0,a.logWebStatsEvent)("saveStats",{nowMs:e,lastTransferTimeMs:n,timePassed:_+"s",statsData:t}),(0,c.partConfigEnabled)("web_stats_debounce")?((0,i.serializeDataToLs)(t),r=function(t,e){return e?0:0===t||t>u?3e3:l}(s,d),window.clearTimeout(o),o=window.setTimeout((function(){return(0,i.writeLocked)((function(){var t=(0,i.fetchDataFromLs)().webStatsData,e=+new Date;E(t),(0,i.clearLsData)(),(0,i.setLastSendTime)(e)}))}),r)):s>u||d?(E(t),(0,i.clearLsData)(),(0,i.setLastSendTime)(e)):((0,i.serializeDataToLs)(t),window.setTimeout(v,l))}function v(){(0,i.writeLocked)((function(){var t=(0,i.fetchDataFromLs)(),e=t.webStatsData;t.isEmpty||d(e)}))}function E(t){(0,a.logWebStatsEvent)("send",t);var e=window.vk,n=e.id,o=e.wsTransport,c=e.statsMeta,u=o+(window.vk&&window.vk.statsMeta&&window.vk.statsMeta.st?"/web-stats/s":"/web-stats/p"),l=(0,r.__assign)((0,r.__assign)({},t),{id:n,st:c.st,platform:c.platform,signTime:c.time,sign:c.hash,attempt:_});(0,s.makeWebStatsRequest)(u,l).then((function(t){(0,a.logWebStatsEvent)("sendStats success",t),_=1})).catch((function(e){return _++,(0,i.writeLocked)((function(){(0,a.logWebStatsEvent)("sendStats try",_),d(t)})),(0,a.logWebStatsEvent)("sendStats error",e),!0})),(0,i.setLastSendTime)(+new Date)}},61209:function(t,e,n){"use strict";var o,r;n.d(e,{MODULE_THROTTLE_MS:function(){return c},IGNORED_MODULES:function(){return s},MODULE_SKIP_RATIO:function(){return u},PoorValueOf:function(){return l}});var i="mvk"===(null===(r=null===(o=window.vk)||void 0===o?void 0:o.statsMeta)||void 0===r?void 0:r.platform),a=36e5,c={feed:8*a,im:6*a,profile:6*a,audio:6*a,apps:6*a,group:4*a,groups:4*a,public:4*a,video:8*a,wall:8*a,board:4*a,photos:4*a,activation:6*a,"i-oauth":6*a,mail:6*a},s=["unknown","app","docs","invite","wall_donut","wall_archive","support","helpdesk","abuse","noSpam","sf"],u=i?{group:.05,index:.05,profile:.05,video:.1,feed:.05,mail:.1,wall:.2,login:.2,"i-oauth":.05,notifications:.3,recommended:.3,search:.4,menu:.4,join:.5}:{feed:.025,im:.05,profile:.075,public:.1,groups:.2,groups_list:.3,audio:.3,photos:.3,friends:.4,board:.5,video:.5,wall:.5},l={FID:300,LCP:4e3,CLS:.25,TTFB:600,FCP:3e3}},78396:function(t,e,n){"use strict";n.d(e,{getLsTimestamps:function(){return a},getUpdatedLsTimestamps:function(){return c},isSignificantChange:function(){return s}});var o=n(97316),r=n(90302),i=n(97993),a=function(){var t={};try{t=JSON.parse(r.vkLocalStorage.getItem(i.LS_LOCK_NAME)||"{}")}catch(t){}return t},c=function(t,e){var n,r=Date.now(),i=a(),c=i[e]||{};return c[t.name]=r,(0,o.__assign)((0,o.__assign)({},i),((n={updatedAt:r})[e]=c,n))},s=function(t,e){var n=t.delta;return[t.value,n].every((function(t){return t>e}))}},97993:function(t,e,n){"use strict";n.d(e,{LS_LOCK_NAME:function(){return v},reportWebVitals:function(){return T}});var o=n(97316),r=n(63705),i=n(14561),a=n(90302),c=n(33127),s=n(86353),u=n(36557),l=n(30730),_=n(61209),f=n(78396),d=navigator.userAgent.toLowerCase(),v="WEB_VITALS_TIMESTAMPS_"+((0,u.isMvk)()?"MVK":"WEB"),E=!1,g=function(t,e){var n,o=c.navigationStat.getModule();if((0,f.isSignificantChange)(t,e||16)){if(_.MODULE_THROTTLE_MS[o]){if(void 0===(s=null===(n=(0,f.getLsTimestamps)()[o])||void 0===n?void 0:n[t.name])&&(s=0),s+_.MODULE_THROTTLE_MS[o]>=Date.now())return;a.vkLocalStorage.setItem(v,JSON.stringify((0,f.getUpdatedLsTimestamps)(t,o)))}var s,u,p;return!E&&(0,f.isSignificantChange)(t,_.PoorValueOf[t.name])&&(u=g,p=!/crios/i.test(d)&&!/chrome/i.test(d)&&/webkit|safari|khtml/i.test(d),E=!0,(0,l.getTTFB)(u),p||(0,l.getFCP)(u)),(0,i.saveWebPerfStats)([t.name,Math.round("CLS"===t.name?1e3*t.value:t.value),o,r.default.getConnectionEffectiveType()])}},p=function(){return window.requestIdleCallback((function(){var t=c.navigationStat.getModule(),e=_.MODULE_SKIP_RATIO[t];if(!_.IGNORED_MODULES.includes(t)){var n=Math.max.apply(Math,(0,o.__spreadArray)([],(0,o.__read)(Object.values(_.MODULE_THROTTLE_MS)))),r=(0,f.getLsTimestamps)().updatedAt;if(r&&Date.now()>r+n&&a.vkLocalStorage.setItem(v,""),(null===self||void 0===self?void 0:self.webVitals)&&(0,s.randEnabled)(e||1)){var i=!/edge/i.test(d)&&(/chrome/i.test(d)||/crios/i.test(d));(0,l.getFID)(g),i&&((0,l.getLCP)(g),(0,s.partConfigEnabled)("web_vitals_new_cls")&&(0,l.getCLS)((function(t){return g(t,_.PoorValueOf.CLS)})))}}}),{timeout:5e3})},T=function(){return"complete"===document.readyState?p():window.addEventListener("pageshow",(function(){return p()}))}},33127:function(t,e,n){"use strict";n.d(e,{NavigationProductionStatEventTypes:function(){return o.NavigationProductionStatEventTypes},navigationStat:function(){return i}});var o=n(76238),r=new o.ProductionStatCollector,i=new o.NavigationStatCollector(r)},48553:function(t,e,n){"use strict";n.d(e,{ActionStatCollector:function(){return i}});var o=n(97316),r=n(36471),i=function(){function t(t){this.productionStatCollector=t}return t.prototype.logEvent=function(t,e){var n,i=(0,o.__assign)((0,o.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:r.ProductionStatEventTypes.TYPE_ACTION})[r.ProductionStatEventTypes.TYPE_ACTION]=t,n));this.productionStatCollector.logEvent(i,e)},t}()},8770:function(t,e,n){"use strict";n.d(e,{BridgeEventStatsCollector:function(){return i}});var o=n(36471),r=n(76238),i=function(){function t(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}return t.prototype.logEvent=function(t,e,n,r){var i,a={webview_url:t,mini_app_id:e,event:n,error:r},c=((i={type:o.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM})[o.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM]=a,i);this.actionStatCollector.logEvent(c)},t}()},2901:function(t,e,n){"use strict";n.d(e,{EasterEggsItemStatCollector:function(){return i}});var o=n(36471),r=n(76238),i=function(){function t(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}return t.prototype.logEvent=function(t,e,n,r){var i,a={egg_id:t,egg_event_id:e,position_id:n,event_type:r},c=((i={type:o.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM})[o.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM]=a,i);this.actionStatCollector.logEvent(c)},t}()},5441:function(t,e,n){"use strict";n.d(e,{MarketingTransitionItemStatCollector:function(){return a}});var o=n(36471),r=n(76238),i=n(27813),a=function(){function t(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}return t.prototype.logEvent=function(t,e,n,r){var a;void 0===r&&(r="");var c={campaign:t,source:n,event:e,unauth_id:(0,i.getCookie)("remixstid")};r&&(c.url=r);var s=((a={type:o.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM})[o.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM]=c,a);this.actionStatCollector.logEvent(s)},t}()},7532:function(t,e,n){"use strict";n.d(e,{VkConnectNavigationCollector:function(){return a}});var o=n(97316),r=n(36471),i=n(76238),a=function(){function t(){this.lastNavEventId=0,this.productionStatCollector=new i.ProductionStatCollector}return t.prototype.logEvent=function(t,e){var n,i,a=this.productionStatCollector.getBaseEvent(),c=(0,o.__assign)((0,o.__assign)({},a),((n={screen:"main",prev_nav_id:this.lastNavEventId,prev_event_id:a.prev_id||0,type:r.ProductionStatEventTypes.TYPE_ACTION})[r.ProductionStatEventTypes.TYPE_ACTION]=((i={type:r.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM})[r.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM]=t,i),n));this.lastNavEventId=c.id,this.productionStatCollector.logEvent(c,e)},t.prototype.logServiceNavigationOpen=function(){this.logEvent({event_type:r.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_OPEN})},t.prototype.logServiceNavigationClose=function(){this.logEvent({event_type:r.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLOSE})},t.prototype.logServiceNavigationClick=function(t,e){this.logEvent({event_type:r.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLICK,fields:[{name:t,str_value:e}]})},t.prototype.logAccountActionsOpen=function(){this.logEvent({event_type:r.IVkConnectNavigationItemEventType.POPUP_OPEN})},t.prototype.logAccountActionsClose=function(){this.logEvent({event_type:r.IVkConnectNavigationItemEventType.POPUP_CLOSE})},t.prototype.logAccountActionsEnterLk=function(t){void 0===t&&(t="account_actions"),this.logEvent({event_type:r.IVkConnectNavigationItemEventType.CLICK_ENTER_LK,flow_service:t})},t.prototype.logAccountActionsVkPay=function(t){void 0===t&&(t="account_actions"),this.logEvent({event_type:r.IVkConnectNavigationItemEventType.CLICK_VK_PAY,flow_service:t})},t.prototype.logAccountActionsVkCombo=function(t){void 0===t&&(t="account_actions"),this.logEvent({event_type:r.IVkConnectNavigationItemEventType.CLICK_VK_COMBO,flow_service:t})},t}()},13488:function(t,e,n){"use strict";n.d(e,{ClickStatCollector:function(){return i}});var o=n(97316),r=n(36471),i=function(){function t(t){this.productionStatCollector=t}return t.prototype.logEvent=function(t,e){var n,i=(0,o.__assign)((0,o.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:r.ProductionStatEventTypes.TYPE_CLICK})[r.ProductionStatEventTypes.TYPE_CLICK]=(0,o.__assign)({item:e},t),n));this.productionStatCollector.logEvent(i)},t}()},99886:function(t,e,n){"use strict";n.d(e,{VkAppsActionMenuStatsCollector:function(){return i}});var o=n(36471),r=n(76238),i=function(){function t(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}return t.prototype.logEvent=function(t,e,n){var r,i={type:n},a=((r={type:o.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM})[o.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM]=i,r),c={type:e,id:t};this.clickStatCollector.logEvent(a,c)},t}()},76238:function(t,e,n){"use strict";n.d(e,{NavigationStatCollector:function(){return u.NavigationStatCollector},ProductionStatCollector:function(){return l.ProductionStatCollector},ActionStatCollector:function(){return _.ActionStatCollector},ClickStatCollector:function(){return f.ClickStatCollector},ViewStatCollector:function(){return d.ViewStatCollector},RegistrationItemStatCollector:function(){return v.RegistrationItemStatCollector},NavigationProductionStatEventTypes:function(){return E.NavigationProductionStatEventTypes},RegistrationFieldItemNames:function(){return E.RegistrationFieldItemNames},RegistrationItemEventTypes:function(){return E.RegistrationItemEventTypes},EventScreens:function(){return E.EventScreens},marketingTransitionItemStat:function(){return g},easterEggsItemStat:function(){return p},bridgeEventItemStat:function(){return T},vkAppsActionMenuItemStat:function(){return m}});var o=n(5441),r=n(8770),i=n(2901),a=n(99886),c=n(78927),s=n(7532),u=n(80203),l=n(57509),_=n(48553),f=n(13488),d=n(71168),v=n(43130),E=n(36471),g=new o.MarketingTransitionItemStatCollector,p=new i.EasterEggsItemStatCollector,T=new r.BridgeEventStatsCollector,m=new a.VkAppsActionMenuStatsCollector;new c.MiniAppsEventStatsCollector,new s.VkConnectNavigationCollector},80203:function(t,e,n){"use strict";n.d(e,{NavigationStatCollector:function(){return c}});var o=n(97316),r=n(36471),i=n(11386),a=n(86353),c=function(){function t(t){this.ProductionStatCollector=t,this.tabId=this.ProductionStatCollector.getIntId()%128}return t.prototype.logEvent=function(t){var e,n=(0,o.__assign)((0,o.__assign)({},this.ProductionStatCollector.getBaseEvent()),((e={type:r.ProductionStatEventTypes.TYPE_NAVGO})[r.ProductionStatEventTypes.TYPE_NAVGO]=t,e));return this.ProductionStatCollector.logEvent(n),{statEvent:n}},t.prototype.getEventTabOpen=function(t){return{subtype:r.NavigationProductionStatEventTypes.TAB_OPEN,tab_id:this.tabId,screen:t}},t.prototype.getEventMove=function(t,e){var n,o,a=this.lastStatEvents,c=this.lastNavEvents;return a&&c?(c.subtype===r.NavigationProductionStatEventTypes.TAB_OPEN?n=c.screen:(n=c.screen_to,o=c.screen),{prev_navgo_id:a.id,subtype:e,screen:n,screen_to:t,screen_prev:o,prev_navgo_timestamp:a.timestamp,tab_id:this.tabId}):((0,i.logError)(new Error("NavigationStatCollector: previous event not found.")),null)},t.prototype.addStatEvent=function(t,e){if(void 0===e&&(e=r.NavigationProductionStatEventTypes.GO),(0,a.partConfigEnabled)("navigation_timespent")){var n;if(e===r.NavigationProductionStatEventTypes.TAB_OPEN)n=this.getEventTabOpen(t);else{var o=this.getEventMove(t,e);if(!o)return;n=o}var i=this.logEvent(n).statEvent;this.lastStatEvents=i,this.lastNavEvents=n}},t.prototype.getModule=function(){var t,e;return null!==(e=null===(t=window.cur)||void 0===t?void 0:t.module)&&void 0!==e?e:"unknown"},t}()},57509:function(t,e,n){"use strict";n.d(e,{ProductionStatCollector:function(){return a}});var o=n(11386),r=n(28397),i=n(24961),a=function(){function t(){this.DEBUG=!1}return t.prototype.getCurrentTime=function(t){void 0===t&&(t=!0);var e=Date.now().toString(10);return t?e+"000":e},t.prototype.getIntId=function(){return Math.floor(Math.random()*t.MAX_INT32)},t.prototype.logEvent=function(t,e){this.DEBUG&&(0,r.log)(t),t.type&&t[t.type]?((0,i.saveProductionStats)(t,e),this.lastEvent=t):(0,o.logError)(new Error("ProductionStatCollector: invalid event."))},t.prototype.getLastEvent=function(){return this.lastEvent},t.prototype.getBaseEvent=function(){var t;return{id:this.getIntId(),prev_id:null===(t=this.lastEvent)||void 0===t?void 0:t.id,timestamp:this.getCurrentTime(),url:window.location.href}},t.MAX_INT32=2147483647,t}()},43130:function(t,e,n){"use strict";n.d(e,{RegistrationItemStatCollector:function(){return c}});var o=n(97316),r=n(36471),i=n(86353),a=n(27813),c=function(){function t(t){this.actionStatCollector=t,this.fields={}}return t.prototype.logFieldInteraction=function(t,e,n){void 0===n&&(n=!1),[r.RegistrationFieldItemNames.PASSWORD,r.RegistrationFieldItemNames.SMS_CODE,r.RegistrationFieldItemNames.RULES_ACCEPT].includes(t)&&(e=e?"1":"0");var o=n?"0":this.actionStatCollector.productionStatCollector.getCurrentTime(!1),i=this.fields[t];i?(i.value=e,i.end_interaction_time=o):this.fields[t]={name:t,value:e,start_interaction_time:o,end_interaction_time:o}},t.prototype.getFieldInteractions=function(){return Object.values(this.fields)},t.prototype.resetFieldInteractions=function(){var t,e;try{for(var n=(0,o.__values)(Object.getOwnPropertyNames(this.fields)),r=n.next();!r.done;r=n.next()){var i=r.value;delete this.fields[i]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.logEvent=function(t,e,n,o){var c;if((0,i.partConfigEnabled)("registration_item_stat")){var s={event_type:t,screen:e,unauth_id:(0,a.getCookie)("remixstid"),sid:(0,a.getCookie)("remixnreg_sid")};[r.RegistrationItemEventTypes.SCREEN_PROCEED,r.RegistrationItemEventTypes.SCREEN_SKIP,r.RegistrationItemEventTypes.SCREEN_RETURN,r.RegistrationItemEventTypes.INCORRECT_SMS_CODE].includes(t)&&(s.screen_to=n,s.fields=this.getFieldInteractions(),this.resetFieldInteractions()),t!==r.RegistrationItemEventTypes.SELECT_COUNTRY_DONE&&t!==r.RegistrationItemEventTypes.PROCEED_OTHER_COUNTRY_CODE||!this.fields[r.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]||(s.fields=this.getFieldInteractions().filter((function(t){return t.name===r.RegistrationFieldItemNames.SELECT_COUNTRY_NAME})),delete this.fields[r.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]);var u=((c={type:r.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM})[r.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM]=s,c);this.actionStatCollector.logEvent(u,o)}},t}()},36471:function(t,e,n){"use strict";var o,r,i,a,c,s,u,l,_,f,d,v,E,g,p,T,m,S,I,C,y,h,w,N,O;n.d(e,{EventScreens:function(){return o},ProductionStatEventTypes:function(){return i},NavigationProductionStatEventTypes:function(){return a},YoulaEventTypes:function(){return c},ActionProductionStatEventTypes:function(){return s},ClickProductionStatEventTypes:function(){return u},ViewProductionStatEventTypes:function(){return l},MarketEventTypes:function(){return f},WorkiEventTypes:function(){return d},EventItemType:function(){return E},RegistrationItemEventTypes:function(){return p},RegistrationFieldItemNames:function(){return T},MarketingTransitionItemCampaignType:function(){return m},MarketingTransitionItemEventType:function(){return S},MarketingTransitionItemSourceType:function(){return I},VkAppActionMenuActionType:function(){return C},IEasterEggsItemEventType:function(){return w},MessagingActionType:function(){return N},IVkConnectNavigationItemEventType:function(){return O}}),function(t){t.NOWHERE="nowhere",t.OTHER="other",t.START="start",t.START_BOX="start_box",t.START_PROCEED_AS="start_proceed_as",t.REGISTRATION_COMPLETE="registration_complete",t.REGISTRATION_COUNTRY="registration_country",t.REGISTRATION_PHONE="registration_phone",t.REGISTRATION_PHONE_VERIFY="registration_phone_verify",t.REGISTRATION_PASSWORD="registration_password",t.REGISTRATION_EDUCATION="registration_education",t.REGISTRATION_EMAIL="registration_email",t.REGISTRATION_NAME="registration_name",t.REGISTRATION_INVITE_CONFIRM="registration_invite_confirm",t.REGISTRATION_LIST_FRIENDS_FACEBOOK="registration_list_friends_facebook",t.PHONE_2FA_VERIFY="phone_2fa_verify",t.OAUTH_FB="oauth_fb"}(o||(o={})),function(t){t.REGISTERED_VIA_FB="1"}(r||(r={})),function(t){t.TYPE_NAVGO="type_navgo",t.TYPE_ACTION="type_action",t.TYPE_CLICK="type_click",t.TYPE_VIEW="type_view"}(i||(i={})),function(t){t.GO="go",t.BACK="back",t.TAB_OPEN="tab_open"}(a||(a={})),function(t){t.TYPE_DONUT_DESCRIPTION_NAV_ITEM="type_donut_description_nav_item",t.TYPE_MARKET_NAVGO="type_market_navgo",t.TYPE_YOULA_SNIPPET_NAVGO="type_youla_snippet_navgo"}(a||(a={})),function(t){t.TYPE_YOULA_SNIPPET_ITEM="type_youla_snippet_item"}(c||(c={})),function(t){t.TYPE_REGISTRATION_ITEM="type_registration_item",t.TYPE_MARKETING_TRANSITION_ITEM="type_marketing_transition_item",t.TYPE_DONUT_PAYMENT_ITEM="type_donut_payment_item",t.TYPE_CALL_ITEM="type_voip_call_item",t.TYPE_BRIDGE_EVENT_ITEM="type_bridge_event_item",t.TYPE_EASTER_EGGS_ITEM="type_easter_eggs_item",t.TYPE_CUSTOM_METRICS_ITEM="type_ab_custom_metrics_item",t.TYPE_MESSAGING_ACTION_ITEM="type_messaging_action_item",t.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",t.TYPE_VK_CONNECT_NAVIGATION_ITEM="type_vk_connect_navigation_item"}(s||(s={})),function(t){t.TYPE_MARKET_CLICK="type_market_click",t.TYPE_WORKI_CLICK="type_worki_click",t.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",t.TYPE_MINI_APP_ITEM="type_mini_app_item",t.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item"}(u||(u={})),function(t){t.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",t.TYPE_MARKET_VIEW="type_market_view",t.TYPE_MINI_APPS_VIEW_ITEM="type_mini_app_view_item"}(l||(l={})),function(t){t.MARKETPLACE="marketplace",t.MARKETPLACE_BLOCK="marketplace_block",t.MARKETPLACE_SEARCH="marketplace_search"}(_||(_={})),function(t){t.TYPE_MARKET_ORDERS_ITEM="type_market_orders_item",t.TYPE_MARKET_CARTS_ITEM="type_market_carts_item",t.TYPE_MARKET_GOODS_ITEM="type_market_item",t.TYPE_MARKET_MARKETPLACE_ITEM="type_market_marketplace_item"}(f||(f={})),function(t){t.TYPE_WORKI_SNIPPET_ITEM="type_worki_snippet_item"}(d||(d={})),function(t){t.CATALOG_PROMO_BANNER_VIEWED="catalog_promo_banner_viewed"}(v||(v={})),function(t){t.ARTICLE="article",t.GROUP="group",t.PHOTO="photo",t.POST="post",t.STORY="story",t.USER="user",t.BROWSER="browser",t.NARRATIVE="narrative",t.MINI_APP="mini_app",t.GAME="game",t.VIDEO="video",t.MARKET_ITEM="market_item",t.MARKET_ITEM_ALBUM="market_item_album",t.MARKET_ORDER="market_order",t.CATALOG_BANNER="catalog_banner",t.AUDIO_FULLSCREEN_BANNER="audio_fullscreen_banner",t.WORKI_SNIPPET="worki_snippet",t.MINI_APPS_CATALOG_BANNER_VIEWED="catalog_promo_banner_viewed",t.MINI_APPS_CATALOG_BANNER="catalog_promo_banner",t.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item"}(E||(E={})),function(t){t.SWITCH_ITEM_VARIANT_1="switch_item_variant_1",t.SWITCH_ITEM_VARIANT_2="switch_item_variant_2",t.OPEN_WIKI="open_wiki"}(g||(g={})),function(t){t.SCREEN_PROCEED="screen_proceed",t.SCREEN_SKIP="screen_skip",t.SCREEN_RETURN="screen_return",t.COMMON_SERVER_ERROR="common_server_error",t.RESEND_SMS_CODE="resend_sms_code",t.RESEND_SMS_CODE_FAILED="resend_sms_code_failed",t.INCORRECT_SMS_CODE="incorrect_sms_code",t.INCORRECT_PASSWORD="incorrect_password",t.INCORRECT_NAME="incorrect_name",t.INCORRECT_CAPTCHA="incorrect_captcha",t.INCORRECT_PHONE_NUMBER="incorrect_phone_number",t.INCORRECT_BDAY="incorrect_bday",t.INCORRECT_SEX="incorrect_sex",t.INCORRECT_EMAIL="incorrect_email",t.EXISTING_EMAIL="existing_email",t.INCORRECT_EDUCATION="incorrect_education",t.SUCCESS_2FA="success_2fa",t.LOGIN_TAP="login_tap",t.PASSWORD_TAP="passw_tap",t.START_REG_TAP="start_reg_tap",t.FIRST_COUNTRY="first_country",t.FIRST_EDUCATION="first_education",t.FIRST_EMAIL="first_email",t.FIRST_FRIEND_ASK="first_friend_ask",t.SELECT_COUNTRY="select_country",t.SELECT_COUNTRY_DONE="select_country_done",t.INPUT_NUMBER_INTERACTION="input_number_interaction",t.INPUT_CODE_INTERACTION="input_code_interaction",t.PROCEED_OTHER_COUNTRY_CODE="proceed_other_country_code"}(p||(p={})),function(t){t.PHONE_COUNTRY="phone_country",t.PHONE_NUMBER="phone_number",t.COUNTRY="country",t.CITY="city",t.EMAIL="email",t.UNIVERSITY="university",t.FACULTY="faculty",t.SCHOOL="school",t.CHAIR="chair",t.YEAR_FROM="year_from",t.YEAR_TO="year_to",t.CLASS="class",t.EDU_FORM="edu_form",t.EDU_STATUS="edu_status",t.GRADUATION="graduation",t.SPECIALIZATION="specialization",t.RULES_ACCEPT="rules_accept",t.SMS_CODE="sms_code",t.FIRST_NAME="first_name",t.LAST_NAME="last_name",t.SEX="sex",t.BDAY="bday",t.PASSWORD="password",t.FACEBOOK_REGISTRATION="facebook_registration",t.FRIEND_ASK="friend_ask",t.VERIFICATION_TYPE="verification_type",t.SELECT_COUNTRY_NAME="select_country_name"}(T||(T={})),function(t){t.UNAUTH_BOTTOM_BANNER="unauth_bottom_banner",t.UNAUTH_ACTION_BOX="unauth_action_box"}(m||(m={})),function(t){t.OPEN="open",t.CLOSE="close",t.CLICK_SIGN_UP="click_sign_up",t.CLICK_SIGN_IN="click_sign_in",t.CLICK_OPEN_IN_APP="click_open_in_app"}(S||(S={})),function(t){t.LIKE="like",t.SHARE="share",t.MORE="more"}(I||(I={})),function(t){t.ACTION_MENU_SHARE="action_menu_share",t.ACTION_MENU_ADD_TO_FAVOURITES="action_menu_add_to_favourites",t.ACTION_MENU_REMOVE_FROM_FAVOURITES="action_menu_remove_from_favourites",t.ACTION_MENU_ENABLE_NOTIFICATIONS="action_menu_enable_notifications",t.ACTION_MENU_DISABLE_NOTIFICATIONS="action_menu_disable_notifications",t.ACTION_MENU_ALL_APPS="action_menu_all_apps",t.ACTION_MENU_ALL_GAMES="action_menu_all_games",t.ACTION_MENU_COPY="action_menu_copy",t.ACTION_MENU_DELETE="action_menu_delete"}(C||(C={})),function(t){t.CLICK_GAME_CARD="cloud_games_game_click",t.CLICK_DOWNLOAD_GAME="cloud_games_client_download",t.OPEN_SECTION="cloud_games_section_open"}(y||(y={})),function(t){t.SHOW="notifications_request_sent",t.CLOSE="notifications_request_close",t.TIMEOUT_CLOSE="notifications_request_timeout",t.SETTING_OPEN="notifications_request_settings_open"}(h||(h={})),function(t){t.EGG_SHOW="egg_show",t.POPUP_SHOW="popup_show",t.POPUP_ACTION="popup_action"}(w||(w={})),function(t){t.OPEN_MR="OPEN_MR"}(N||(N={})),function(t){t.CLICK_ENTER_LK="click_enter_lk",t.CLICK_VK_PAY="click_vk_pay",t.CLICK_VK_COMBO="click_vk_combo",t.POPUP_OPEN="popup_open",t.POPUP_CLOSE="popup_close",t.SERVICE_NAVIGATION_CLICK="service_navigation_click",t.SERVICE_NAVIGATION_OPEN="service_navigation_open",t.SERVICE_NAVIGATION_CLOSE="service_navigation_close"}(O||(O={}))},71168:function(t,e,n){"use strict";n.d(e,{ViewStatCollector:function(){return i}});var o=n(97316),r=n(36471),i=function(){function t(t){this.productionStatCollector=t}return t.prototype.logEvent=function(t,e){var n,i=(0,o.__assign)((0,o.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:r.ProductionStatEventTypes.TYPE_VIEW})[r.ProductionStatEventTypes.TYPE_VIEW]=(0,o.__assign)({item:e},t),n));this.productionStatCollector.logEvent(i)},t}()},78927:function(t,e,n){"use strict";n.d(e,{MiniAppsEventStatsCollector:function(){return a}});var o=n(97316),r=n(36471),i=n(76238),a=function(){function t(){this.productStatCollector=new i.ProductionStatCollector,this.viewStatCollector=new i.ViewStatCollector(this.productStatCollector)}return t.prototype.logEvent=function(t,e,n,i){var a;void 0===n&&(n=""),void 0===i&&(i="");var c=(0,o.__assign)((0,o.__assign)({},t),e),s=((a={type:r.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM})[r.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM]=c,a.start_view=n,a.end_view=i,a);this.viewStatCollector.logEvent(s,t)},t}()}},function(t){"use strict";t.O(0,[4736],(function(){return e=79958,t(t.s=e);var e}));t.O()}]);